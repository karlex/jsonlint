(function(Ue){if(typeof exports=="object"&&typeof module<"u")module.exports=Ue();else if(typeof define=="function"&&define.amd)define([],Ue);else{var Me;typeof window<"u"?Me=window:typeof global<"u"?Me=global:typeof self<"u"?Me=self:Me=this,Me.Ajv=Ue()}})(function(){var Ue,Me,Mr;return function(){function A(U,K,T){function e(r,n){if(!K[r]){if(!U[r]){var S=typeof require=="function"&&require;if(!n&&S)return S(r,!0);if(a)return a(r,!0);var o=new Error("Cannot find module '"+r+"'");throw o.code="MODULE_NOT_FOUND",o}var E=K[r]={exports:{}};U[r][0].call(E.exports,function(P){var $=U[r][1][P];return e($||P)},E,E.exports,A,U,K,T)}return K[r].exports}for(var a=typeof require=="function"&&require,L=0;L<T.length;L++)e(T[L]);return e}return A}()({1:[function(A,U,K){"use strict";var T=U.exports=function(){this._cache={}};T.prototype.put=function(a,L){this._cache[a]=L},T.prototype.get=function(a){return this._cache[a]},T.prototype.del=function(a){delete this._cache[a]},T.prototype.clear=function(){this._cache={}}},{}],2:[function(A,U,K){"use strict";var T=A("./error_classes").MissingRef;U.exports=e;function e(a,L,r){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof L=="function"&&(r=L,L=void 0);var S=o(a).then(function(){var P=n._addSchema(a,void 0,L);return P.validate||E(P)});return r&&S.then(function(P){r(null,P)},r),S;function o(P){var $=P.$schema;return $&&!n.getSchema($)?e.call(n,{$ref:$},!0):Promise.resolve()}function E(P){try{return n._compile(P)}catch(h){if(h instanceof T)return $(h);throw h}function $(h){var v=h.missingSchema;if(c(v))throw new Error("Schema "+v+" is loaded but "+h.missingRef+" cannot be resolved");var t=n._loadingSchemas[v];return t||(t=n._loadingSchemas[v]=n._opts.loadSchema(v),t.then(l,l)),t.then(function(f){if(!c(v))return o(f).then(function(){c(v)||n.addSchema(f,v,void 0,L)})}).then(function(){return E(P)});function l(){delete n._loadingSchemas[v]}function c(f){return n._refs[f]||n._schemas[f]}}}}},{"./error_classes":3}],3:[function(A,U,K){"use strict";var T=A("./resolve");U.exports={Validation:L(e),MissingRef:L(a)};function e(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}a.message=function(r,n){return"can't resolve reference "+n+" from id "+r};function a(r,n,S){this.message=S||a.message(r,n),this.missingRef=T.url(r,n),this.missingSchema=T.normalizeId(T.fullPath(this.missingRef))}function L(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}},{"./resolve":6}],4:[function(A,U,K){"use strict";var T=A("./util"),e=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,a=[0,31,28,31,30,31,30,31,31,30,31,30,31],L=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,r=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,n=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,S=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,o=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,E=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,P=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,$=/^(?:\/(?:[^~/]|~0|~1)*)*$/,h=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,v=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;U.exports=t;function t(x){return x=x=="full"?"full":"fast",T.copy(t[x])}t.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":o,url:E,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:r,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:D,uuid:P,"json-pointer":$,"json-pointer-uri-fragment":h,"relative-json-pointer":v},t.full={date:c,time:f,"date-time":F,uri:g,"uri-reference":S,"uri-template":o,url:E,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:r,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:D,uuid:P,"json-pointer":$,"json-pointer-uri-fragment":h,"relative-json-pointer":v};function l(x){return x%4===0&&(x%100!==0||x%400===0)}function c(x){var j=x.match(e);if(!j)return!1;var O=+j[1],d=+j[2],b=+j[3];return d>=1&&d<=12&&b>=1&&b<=(d==2&&l(O)?29:a[d])}function f(x,j){var O=x.match(L);if(!O)return!1;var d=O[1],b=O[2],I=O[3],z=O[5];return(d<=23&&b<=59&&I<=59||d==23&&b==59&&I==60)&&(!j||z)}var p=/t|\s/i;function F(x){var j=x.split(p);return j.length==2&&c(j[0])&&f(j[1],!0)}var R=/\/|:/;function g(x){return R.test(x)&&n.test(x)}var y=/[^\\]\\Z/;function D(x){if(y.test(x))return!1;try{return new RegExp(x),!0}catch{return!1}}},{"./util":10}],5:[function(A,U,K){"use strict";var T=A("./resolve"),e=A("./util"),a=A("./error_classes"),L=A("fast-json-stable-stringify"),r=A("../dotjs/validate"),n=e.ucs2length,S=A("fast-deep-equal"),o=a.Validation;U.exports=E;function E(p,F,R,g){var y=this,D=this._opts,x=[void 0],j={},O=[],d={},b=[],I={},z=[];F=F||{schema:p,refVal:x,refs:j};var Q=P.call(this,p,F,g),H=this._compilations[Q.index];if(Q.compiling)return H.callValidate=G;var ee=this._formats,B=this.RULES;try{var X=Se(p,F,R,g);H.validate=X;var J=H.callValidate;return J&&(J.schema=X.schema,J.errors=null,J.refs=X.refs,J.refVal=X.refVal,J.root=X.root,J.$async=X.$async,D.sourceCode&&(J.source=X.source)),X}finally{$.call(this,p,F,g)}function G(){var N=H.validate,V=N.apply(this,arguments);return G.errors=N.errors,V}function Se(N,V,W,re){var k=!V||V&&V.schema==N;if(V.schema!=F.schema)return E.call(y,N,V,W,re);var ue=N.$async===!0,he=r({isTop:!0,schema:N,isRoot:k,baseId:re,root:V,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:a.MissingRef,RULES:B,validate:r,util:e,resolve:T,resolveRef:_e,usePattern:C,useDefault:q,useCustomRule:Y,opts:D,formats:ee,logger:y.logger,self:y});he=f(x,l)+f(O,v)+f(b,t)+f(z,c)+he,D.processCode&&(he=D.processCode(he,N));var se;try{var be=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",he);se=be(y,B,ee,F,x,b,z,S,n,o),x[0]=se}catch(ge){throw y.logger.error("Error compiling schema, function code:",he),ge}return se.schema=N,se.errors=null,se.refs=j,se.refVal=x,se.root=k?se:V,ue&&(se.$async=!0),D.sourceCode===!0&&(se.source={code:he,patterns:O,defaults:b}),se}function _e(N,V,W){V=T.url(N,V);var re=j[V],k,ue;if(re!==void 0)return k=x[re],ue="refVal["+re+"]",m(k,ue);if(!W&&F.refs){var he=F.refs[V];if(he!==void 0)return k=F.refVal[he],ue=$e(V,k),m(k,ue)}ue=$e(V);var se=T.call(y,Se,F,V);if(se===void 0){var be=R&&R[V];be&&(se=T.inlineRef(be,D.inlineRefs)?be:E.call(y,be,F,R,N))}if(se===void 0)fe(V);else return de(V,se),m(se,ue)}function $e(N,V){var W=x.length;return x[W]=V,j[N]=W,"refVal"+W}function fe(N){delete j[N]}function de(N,V){var W=j[N];x[W]=V}function m(N,V){return typeof N=="object"||typeof N=="boolean"?{code:V,schema:N,inline:!0}:{code:V,$async:N&&!!N.$async}}function C(N){var V=d[N];return V===void 0&&(V=d[N]=O.length,O[V]=N),"pattern"+V}function q(N){switch(typeof N){case"boolean":case"number":return""+N;case"string":return e.toQuotedString(N);case"object":if(N===null)return"null";var V=L(N),W=I[V];return W===void 0&&(W=I[V]=b.length,b[W]=N),"default"+W}}function Y(N,V,W,re){if(y._opts.validateSchema!==!1){var k=N.definition.dependencies;if(k&&!k.every(function(xe){return Object.prototype.hasOwnProperty.call(W,xe)}))throw new Error("parent schema must have all required keywords: "+k.join(","));var ue=N.definition.validateSchema;if(ue){var he=ue(V);if(!he){var se="keyword schema is invalid: "+y.errorsText(ue.errors);if(y._opts.validateSchema=="log")y.logger.error(se);else throw new Error(se)}}}var be=N.definition.compile,ge=N.definition.inline,we=N.definition.macro,ce;if(be)ce=be.call(y,V,W,re);else if(we)ce=we.call(y,V,W,re),D.validateSchema!==!1&&y.validateSchema(ce,!0);else if(ge)ce=ge.call(y,re,N.keyword,V,W);else if(ce=N.definition.validate,!ce)return;if(ce===void 0)throw new Error('custom keyword "'+N.keyword+'"failed to compile');var ye=z.length;return z[ye]=ce,{code:"customRule"+ye,validate:ce}}}function P(p,F,R){var g=h.call(this,p,F,R);return g>=0?{index:g,compiling:!0}:(g=this._compilations.length,this._compilations[g]={schema:p,root:F,baseId:R},{index:g,compiling:!1})}function $(p,F,R){var g=h.call(this,p,F,R);g>=0&&this._compilations.splice(g,1)}function h(p,F,R){for(var g=0;g<this._compilations.length;g++){var y=this._compilations[g];if(y.schema==p&&y.root==F&&y.baseId==R)return g}return-1}function v(p,F){return"var pattern"+p+" = new RegExp("+e.toQuotedString(F[p])+");"}function t(p){return"var default"+p+" = defaults["+p+"];"}function l(p,F){return F[p]===void 0?"":"var refVal"+p+" = refVal["+p+"];"}function c(p){return"var customRule"+p+" = customRules["+p+"];"}function f(p,F){if(!p.length)return"";for(var R="",g=0;g<p.length;g++)R+=F(g,p);return R}},{"../dotjs/validate":38,"./error_classes":3,"./resolve":6,"./util":10,"fast-deep-equal":42,"fast-json-stable-stringify":43}],6:[function(A,U,K){"use strict";var T=A("uri-js"),e=A("fast-deep-equal"),a=A("./util"),L=A("./schema_obj"),r=A("json-schema-traverse");U.exports=n,n.normalizeId=p,n.fullPath=l,n.url=F,n.ids=R,n.inlineRef=h,n.schema=S;function n(g,y,D){var x=this._refs[D];if(typeof x=="string")if(this._refs[x])x=this._refs[x];else return n.call(this,g,y,x);if(x=x||this._schemas[D],x instanceof L)return h(x.schema,this._opts.inlineRefs)?x.schema:x.validate||this._compile(x);var j=S.call(this,y,D),O,d,b;return j&&(O=j.schema,y=j.root,b=j.baseId),O instanceof L?d=O.validate||g.call(this,O.schema,y,void 0,b):O!==void 0&&(d=h(O,this._opts.inlineRefs)?O:g.call(this,O,y,void 0,b)),d}function S(g,y){var D=T.parse(y),x=c(D),j=l(this._getId(g.schema));if(Object.keys(g.schema).length===0||x!==j){var O=p(x),d=this._refs[O];if(typeof d=="string")return o.call(this,g,d,D);if(d instanceof L)d.validate||this._compile(d),g=d;else if(d=this._schemas[O],d instanceof L){if(d.validate||this._compile(d),O==p(y))return{schema:d,root:g,baseId:j};g=d}else return;if(!g.schema)return;j=l(this._getId(g.schema))}return P.call(this,D,j,g.schema,g)}function o(g,y,D){var x=S.call(this,g,y);if(x){var j=x.schema,O=x.baseId;g=x.root;var d=this._getId(j);return d&&(O=F(O,d)),P.call(this,D,O,j,g)}}var E=a.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function P(g,y,D,x){if(g.fragment=g.fragment||"",g.fragment.slice(0,1)=="/"){for(var j=g.fragment.split("/"),O=1;O<j.length;O++){var d=j[O];if(d){if(d=a.unescapeFragment(d),D=D[d],D===void 0)break;var b;if(!E[d]&&(b=this._getId(D),b&&(y=F(y,b)),D.$ref)){var I=F(y,D.$ref),z=S.call(this,x,I);z&&(D=z.schema,x=z.root,y=z.baseId)}}}if(D!==void 0&&D!==x.schema)return{schema:D,root:x,baseId:y}}}var $=a.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function h(g,y){if(y===!1)return!1;if(y===void 0||y===!0)return v(g);if(y)return t(g)<=y}function v(g){var y;if(Array.isArray(g)){for(var D=0;D<g.length;D++)if(y=g[D],typeof y=="object"&&!v(y))return!1}else for(var x in g)if(x=="$ref"||(y=g[x],typeof y=="object"&&!v(y)))return!1;return!0}function t(g){var y=0,D;if(Array.isArray(g)){for(var x=0;x<g.length;x++)if(D=g[x],typeof D=="object"&&(y+=t(D)),y==1/0)return 1/0}else for(var j in g){if(j=="$ref")return 1/0;if($[j])y++;else if(D=g[j],typeof D=="object"&&(y+=t(D)+1),y==1/0)return 1/0}return y}function l(g,y){y!==!1&&(g=p(g));var D=T.parse(g);return c(D)}function c(g){return T.serialize(g).split("#")[0]+"#"}var f=/#\/?$/;function p(g){return g?g.replace(f,""):""}function F(g,y){return y=p(y),T.resolve(g,y)}function R(g){var y=p(this._getId(g)),D={"":y},x={"":l(y,!1)},j={},O=this;return r(g,{allKeys:!0},function(d,b,I,z,Q,H,ee){if(b!==""){var B=O._getId(d),X=D[z],J=x[z]+"/"+Q;if(ee!==void 0&&(J+="/"+(typeof ee=="number"?ee:a.escapeFragment(ee))),typeof B=="string"){B=X=p(X?T.resolve(X,B):B);var G=O._refs[B];if(typeof G=="string"&&(G=O._refs[G]),G&&G.schema){if(!e(d,G.schema))throw new Error('id "'+B+'" resolves to more than one schema')}else if(B!=p(J))if(B[0]=="#"){if(j[B]&&!e(d,j[B]))throw new Error('id "'+B+'" resolves to more than one schema');j[B]=d}else O._refs[B]=J}D[b]=X,x[b]=J}}),j}},{"./schema_obj":8,"./util":10,"fast-deep-equal":42,"json-schema-traverse":44,"uri-js":45}],7:[function(A,U,K){"use strict";var T=A("../dotjs"),e=A("./util").toHash;U.exports=function(){var L=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],r=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],S=["number","integer","string","array","object","boolean","null"];return L.all=e(r),L.types=e(S),L.forEach(function(o){o.rules=o.rules.map(function(E){var P;if(typeof E=="object"){var $=Object.keys(E)[0];P=E[$],E=$,P.forEach(function(v){r.push(v),L.all[v]=!0})}r.push(E);var h=L.all[E]={keyword:E,code:T[E],implements:P};return h}),L.all.$comment={keyword:"$comment",code:T.$comment},o.type&&(L.types[o.type]=o)}),L.keywords=e(r.concat(n)),L.custom={},L}},{"../dotjs":27,"./util":10}],8:[function(A,U,K){"use strict";var T=A("./util");U.exports=e;function e(a){T.copy(a,this)}},{"./util":10}],9:[function(A,U,K){"use strict";U.exports=function(e){for(var a=0,L=e.length,r=0,n;r<L;)a++,n=e.charCodeAt(r++),n>=55296&&n<=56319&&r<L&&(n=e.charCodeAt(r),(n&64512)==56320&&r++);return a}},{}],10:[function(A,U,K){"use strict";U.exports={copy:T,checkDataType:e,checkDataTypes:a,coerceToTypes:r,toHash:n,getProperty:E,escapeQuotes:P,equal:A("fast-deep-equal"),ucs2length:A("./ucs2length"),varOccurences:$,varReplace:h,schemaHasRules:v,schemaHasRulesExcept:t,schemaUnknownRules:l,toQuotedString:c,getPathExpr:f,getPath:p,getData:g,unescapeFragment:D,unescapeJsonPointer:O,escapeFragment:x,escapeJsonPointer:j};function T(d,b){b=b||{};for(var I in d)b[I]=d[I];return b}function e(d,b,I,z){var Q=z?" !== ":" === ",H=z?" || ":" && ",ee=z?"!":"",B=z?"":"!";switch(d){case"null":return b+Q+"null";case"array":return ee+"Array.isArray("+b+")";case"object":return"("+ee+b+H+"typeof "+b+Q+'"object"'+H+B+"Array.isArray("+b+"))";case"integer":return"(typeof "+b+Q+'"number"'+H+B+"("+b+" % 1)"+H+b+Q+b+(I?H+ee+"isFinite("+b+")":"")+")";case"number":return"(typeof "+b+Q+'"'+d+'"'+(I?H+ee+"isFinite("+b+")":"")+")";default:return"typeof "+b+Q+'"'+d+'"'}}function a(d,b,I){switch(d.length){case 1:return e(d[0],b,I,!0);default:var z="",Q=n(d);Q.array&&Q.object&&(z=Q.null?"(":"(!"+b+" || ",z+="typeof "+b+' !== "object")',delete Q.null,delete Q.array,delete Q.object),Q.number&&delete Q.integer;for(var H in Q)z+=(z?" && ":"")+e(H,b,I,!0);return z}}var L=n(["string","number","integer","boolean","null"]);function r(d,b){if(Array.isArray(b)){for(var I=[],z=0;z<b.length;z++){var Q=b[z];(L[Q]||d==="array"&&Q==="array")&&(I[I.length]=Q)}if(I.length)return I}else{if(L[b])return[b];if(d==="array"&&b==="array")return["array"]}}function n(d){for(var b={},I=0;I<d.length;I++)b[d[I]]=!0;return b}var S=/^[a-z$_][a-z$_0-9]*$/i,o=/'|\\/g;function E(d){return typeof d=="number"?"["+d+"]":S.test(d)?"."+d:"['"+P(d)+"']"}function P(d){return d.replace(o,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function $(d,b){b+="[^0-9]";var I=d.match(new RegExp(b,"g"));return I?I.length:0}function h(d,b,I){return b+="([^0-9])",I=I.replace(/\$/g,"$$$$"),d.replace(new RegExp(b,"g"),I+"$1")}function v(d,b){if(typeof d=="boolean")return!d;for(var I in d)if(b[I])return!0}function t(d,b,I){if(typeof d=="boolean")return!d&&I!="not";for(var z in d)if(z!=I&&b[z])return!0}function l(d,b){if(typeof d!="boolean"){for(var I in d)if(!b[I])return I}}function c(d){return"'"+P(d)+"'"}function f(d,b,I,z){var Q=I?"'/' + "+b+(z?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):z?"'[' + "+b+" + ']'":"'[\\'' + "+b+" + '\\']'";return y(d,Q)}function p(d,b,I){var z=c(I?"/"+j(b):E(b));return y(d,z)}var F=/^\/(?:[^~]|~0|~1)*$/,R=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function g(d,b,I){var z,Q,H,ee;if(d==="")return"rootData";if(d[0]=="/"){if(!F.test(d))throw new Error("Invalid JSON-pointer: "+d);Q=d,H="rootData"}else{if(ee=d.match(R),!ee)throw new Error("Invalid JSON-pointer: "+d);if(z=+ee[1],Q=ee[2],Q=="#"){if(z>=b)throw new Error("Cannot access property/index "+z+" levels up, current level is "+b);return I[b-z]}if(z>b)throw new Error("Cannot access data "+z+" levels up, current level is "+b);if(H="data"+(b-z||""),!Q)return H}for(var B=H,X=Q.split("/"),J=0;J<X.length;J++){var G=X[J];G&&(H+=E(O(G)),B+=" && "+H)}return B}function y(d,b){return d=='""'?b:(d+" + "+b).replace(/([^\\])' \+ '/g,"$1")}function D(d){return O(decodeURIComponent(d))}function x(d){return encodeURIComponent(j(d))}function j(d){return d.replace(/~/g,"~0").replace(/\//g,"~1")}function O(d){return d.replace(/~1/g,"/").replace(/~0/g,"~")}},{"./ucs2length":9,"fast-deep-equal":42}],11:[function(A,U,K){"use strict";var T=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];U.exports=function(e,a){for(var L=0;L<a.length;L++){e=JSON.parse(JSON.stringify(e));var r=a[L].split("/"),n=e,S;for(S=1;S<r.length;S++)n=n[r[S]];for(S=0;S<T.length;S++){var o=T[S],E=n[o];E&&(n[o]={anyOf:[E,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},{}],12:[function(A,U,K){"use strict";var T=A("./refs/json-schema-draft-07.json");U.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:T.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:T.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},{"./refs/json-schema-draft-07.json":41}],13:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,g,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o;var l=a=="maximum",c=l?"exclusiveMaximum":"exclusiveMinimum",f=e.schema[c],p=e.opts.$data&&f&&f.$data,F=l?"<":">",R=l?">":"<",g=void 0;if(!(v||typeof o=="number"||o===void 0))throw new Error(a+" must be number");if(!(p||f===void 0||typeof f=="number"||typeof f=="boolean"))throw new Error(c+" must be number or boolean");if(p){var y=e.util.getData(f.$data,S,e.dataPathArr),D="exclusive"+n,x="exclType"+n,j="exclIsNumber"+n,O="op"+n,d="' + "+O+" + '";r+=" var schemaExcl"+n+" = "+y+"; ",y="schemaExcl"+n,r+=" var "+D+"; var "+x+" = typeof "+y+"; if ("+x+" != 'boolean' && "+x+" != 'undefined' && "+x+" != 'number') { ";var g=c,b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+c+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var I=r;r=b.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+x+" == 'number' ? ( ("+D+" = "+t+" === undefined || "+y+" "+F+"= "+t+") ? "+h+" "+R+"= "+y+" : "+h+" "+R+" "+t+" ) : ( ("+D+" = "+y+" === true) ? "+h+" "+R+"= "+t+" : "+h+" "+R+" "+t+" ) || "+h+" !== "+h+") { var op"+n+" = "+D+" ? '"+F+"' : '"+F+"='; ",o===void 0&&(g=c,P=e.errSchemaPath+"/"+c,t=y,v=p)}else{var j=typeof f=="number",d=F;if(j&&v){var O="'"+d+"'";r+=" if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" ( "+t+" === undefined || "+f+" "+F+"= "+t+" ? "+h+" "+R+"= "+f+" : "+h+" "+R+" "+t+" ) || "+h+" !== "+h+") { "}else{j&&o===void 0?(D=!0,g=c,P=e.errSchemaPath+"/"+c,t=f,R+="="):(j&&(t=Math[l?"min":"max"](f,o)),f===(j?t:!0)?(D=!0,g=c,P=e.errSchemaPath+"/"+c,R+="="):(D=!1,d+="="));var O="'"+d+"'";r+=" if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+h+" "+R+" "+t+" || "+h+" !== "+h+") { "}}g=g||a;var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(g||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { comparison: "+O+", limit: "+t+", exclusive: "+D+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+d+" ",v?r+="' + "+t:r+=""+t+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var I=r;return r=b.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",$&&(r+=" else { "),r}},{}],14:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,c,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;if(v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var l=a=="maxItems"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+h+".length "+l+" "+t+") { ";var c=a,f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(c||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxItems"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+t+" + '":r+=""+o,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",$&&(r+=" else { "),r}},{}],15:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,c,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;if(v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var l=a=="maxLength"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),e.opts.unicode===!1?r+=" "+h+".length ":r+=" ucs2length("+h+") ",r+=" "+l+" "+t+") { ";var c=a,f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(c||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",a=="maxLength"?r+="longer":r+="shorter",r+=" than ",v?r+="' + "+t+" + '":r+=""+o,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",$&&(r+=" else { "),r}},{}],16:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,c,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;if(v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o,!(v||typeof o=="number"))throw new Error(a+" must be number");var l=a=="maxProperties"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" Object.keys("+h+").length "+l+" "+t+") { ";var c=a,f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(c||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",a=="maxProperties"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+t+" + '":r+=""+o,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;return r=f.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",$&&(r+=" else { "),r}},{}],17:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.schema[a],S=e.schemaPath+e.util.getProperty(a),o=e.errSchemaPath+"/"+a,E=!e.opts.allErrors,P=e.util.copy(e),$="";P.level++;var h="valid"+P.level,v=P.baseId,t=!0,l=n;if(l)for(var c,f=-1,p=l.length-1;f<p;)c=l[f+=1],(e.opts.strictKeywords?typeof c=="object"&&Object.keys(c).length>0||c===!1:e.util.schemaHasRules(c,e.RULES.all))&&(t=!1,P.schema=c,P.schemaPath=S+"["+f+"]",P.errSchemaPath=o+"/"+f,r+="  "+e.validate(P)+" ",P.baseId=v,E&&(r+=" if ("+h+") { ",$+="}"));return E&&(t?r+=" if (true) { ":r+=" "+$.slice(0,-1)+" "),r}},{}],18:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t="errs__"+n,l=e.util.copy(e),c="";l.level++;var f="valid"+l.level,p=o.every(function(j){return e.opts.strictKeywords?typeof j=="object"&&Object.keys(j).length>0||j===!1:e.util.schemaHasRules(j,e.RULES.all)});if(p){var F=l.baseId;r+=" var "+t+" = errors; var "+v+" = false;  ";var R=e.compositeRule;e.compositeRule=l.compositeRule=!0;var g=o;if(g)for(var y,D=-1,x=g.length-1;D<x;)y=g[D+=1],l.schema=y,l.schemaPath=E+"["+D+"]",l.errSchemaPath=P+"/"+D,r+="  "+e.validate(l)+" ",l.baseId=F,r+=" "+v+" = "+v+" || "+f+"; if (!"+v+") { ",c+="}";e.compositeRule=l.compositeRule=R,r+=" "+c+" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&$&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else $&&(r+=" if (true) { ");return r}},{}],19:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.schema[a],S=e.errSchemaPath+"/"+a,o=!e.opts.allErrors,E=e.util.toQuotedString(n);return e.opts.$comment===!0?r+=" console.log("+E+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+E+", "+e.util.toQuotedString(S)+", validate.root.schema);"),r}},{}],20:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t=e.opts.$data&&o&&o.$data,l;t?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",l="schema"+n):l=o,t||(r+=" var schema"+n+" = validate.schema"+E+";"),r+="var "+v+" = equal("+h+", schema"+n+"); if (!"+v+") {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValue: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var f=r;return r=c.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",$&&(r+=" else { "),r}},{}],21:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t="errs__"+n,l=e.util.copy(e),c="";l.level++;var f="valid"+l.level,p="i"+n,F=l.dataLevel=e.dataLevel+1,R="data"+F,g=e.baseId,y=e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all);if(r+="var "+t+" = errors;var "+v+";",y){var D=e.compositeRule;e.compositeRule=l.compositeRule=!0,l.schema=o,l.schemaPath=E,l.errSchemaPath=P,r+=" var "+f+" = false; for (var "+p+" = 0; "+p+" < "+h+".length; "+p+"++) { ",l.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var x=h+"["+p+"]";l.dataPathArr[F]=p;var j=e.validate(l);l.baseId=g,e.util.varOccurences(j,R)<2?r+=" "+e.util.varReplace(j,R,x)+" ":r+=" var "+R+" = "+x+"; "+j+" ",r+=" if ("+f+") break; }  ",e.compositeRule=l.compositeRule=D,r+=" "+c+" if (!"+f+") {"}else r+=" if ("+h+".length == 0) {";var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var d=r;return r=O.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+d+"]); ":r+=" validate.errors = ["+d+"]; return false; ":r+=" var err = "+d+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",y&&(r+="  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}},{}],22:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h,v="data"+(S||""),t="valid"+n,l="errs__"+n,c=e.opts.$data&&o&&o.$data,f;c?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",f="schema"+n):f=o;var p=this,F="definition"+n,R=p.definition,g="",y,D,x,j,O;if(c&&R.$data){O="keywordValidate"+n;var d=R.validateSchema;r+=" var "+F+" = RULES.custom['"+a+"'].definition; var "+O+" = "+F+".validate;"}else{if(j=e.useCustomRule(p,o,e.schema,e),!j)return;f="validate.schema"+E,O=j.code,y=R.compile,D=R.inline,x=R.macro}var b=O+".errors",I="i"+n,z="ruleErr"+n,Q=R.async;if(Q&&!e.async)throw new Error("async keyword in sync schema");if(D||x||(r+=""+b+" = null;"),r+="var "+l+" = errors;var "+t+";",c&&R.$data&&(g+="}",r+=" if ("+f+" === undefined) { "+t+" = true; } else { ",d&&(g+="}",r+=" "+t+" = "+F+".validateSchema("+f+"); if ("+t+") { ")),D)R.statements?r+=" "+j.validate+" ":r+=" "+t+" = "+j.validate+"; ";else if(x){var H=e.util.copy(e),g="";H.level++;var ee="valid"+H.level;H.schema=j.validate,H.schemaPath="";var B=e.compositeRule;e.compositeRule=H.compositeRule=!0;var X=e.validate(H).replace(/validate\.schema/g,O);e.compositeRule=H.compositeRule=B,r+=" "+X}else{var J=J||[];J.push(r),r="",r+="  "+O+".call( ",e.opts.passContext?r+="this":r+="self",y||R.schema===!1?r+=" , "+v+" ":r+=" , "+f+" , "+v+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var G=S?"data"+(S-1||""):"parentData",Se=S?e.dataPathArr[S]:"parentDataProperty";r+=" , "+G+" , "+Se+" , rootData )  ";var _e=r;r=J.pop(),R.errors===!1?(r+=" "+t+" = ",Q&&(r+="await "),r+=""+_e+"; "):Q?(b="customErrors"+n,r+=" var "+b+" = null; try { "+t+" = await "+_e+"; } catch (e) { "+t+" = false; if (e instanceof ValidationError) "+b+" = e.errors; else throw e; } "):r+=" "+b+" = null; "+t+" = "+_e+"; "}if(R.modifying&&(r+=" if ("+G+") "+v+" = "+G+"["+Se+"];"),r+=""+g,R.valid)$&&(r+=" if (true) { ");else{r+=" if ( ",R.valid===void 0?(r+=" !",x?r+=""+ee:r+=""+t):r+=" "+!R.valid+" ",r+=") { ",h=p.keyword;var J=J||[];J.push(r),r="";var J=J||[];J.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var $e=r;r=J.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+$e+"]); ":r+=" validate.errors = ["+$e+"]; return false; ":r+=" var err = "+$e+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var fe=r;r=J.pop(),D?R.errors?R.errors!="full"&&(r+="  for (var "+I+"="+l+"; "+I+"<errors; "+I+"++) { var "+z+" = vErrors["+I+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+z+".schema = "+f+"; "+z+".data = "+v+"; "),r+=" } "):R.errors===!1?r+=" "+fe+" ":(r+=" if ("+l+" == errors) { "+fe+" } else {  for (var "+I+"="+l+"; "+I+"<errors; "+I+"++) { var "+z+" = vErrors["+I+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+z+".schemaPath === undefined) { "+z+'.schemaPath = "'+P+'"; } ',e.opts.verbose&&(r+=" "+z+".schema = "+f+"; "+z+".data = "+v+"; "),r+=" } } "):x?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(h||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&$&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):R.errors===!1?r+=" "+fe+" ":(r+=" if (Array.isArray("+b+")) { if (vErrors === null) vErrors = "+b+"; else vErrors = vErrors.concat("+b+"); errors = vErrors.length;  for (var "+I+"="+l+"; "+I+"<errors; "+I+"++) { var "+z+" = vErrors["+I+"]; if ("+z+".dataPath === undefined) "+z+".dataPath = (dataPath || '') + "+e.errorPath+";  "+z+'.schemaPath = "'+P+'";  ',e.opts.verbose&&(r+=" "+z+".schema = "+f+"; "+z+".data = "+v+"; "),r+=" } } else { "+fe+" } "),r+=" } ",$&&(r+=" else { ")}return r}},{}],23:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="errs__"+n,t=e.util.copy(e),l="";t.level++;var c="valid"+t.level,f={},p={},F=e.opts.ownProperties;for(D in o)if(D!="__proto__"){var R=o[D],g=Array.isArray(R)?p:f;g[D]=R}r+="var "+v+" = errors;";var y=e.errorPath;r+="var missing"+n+";";for(var D in p)if(g=p[D],g.length){if(r+=" if ( "+h+e.util.getProperty(D)+" !== undefined ",F&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),$){r+=" && ( ";var x=g;if(x)for(var j,O=-1,d=x.length-1;O<d;){j=x[O+=1],O&&(r+=" || ");var b=e.util.getProperty(j),I=h+b;r+=" ( ( "+I+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(j)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?j:b)+") ) "}r+=")) {  ";var z="missing"+n,Q="' + "+z+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,z,!0):y+" + "+z);var H=H||[];H.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(D)+"', missingProperty: '"+Q+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(g.length==1?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",g.length==1?r+="property "+e.util.escapeQuotes(g[0]):r+="properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(D)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var ee=r;r=H.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+ee+"]); ":r+=" validate.errors = ["+ee+"]; return false; ":r+=" var err = "+ee+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var B=g;if(B)for(var j,X=-1,J=B.length-1;X<J;){j=B[X+=1];var b=e.util.getProperty(j),Q=e.util.escapeQuotes(j),I=h+b;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,j,e.opts.jsonPointers)),r+=" if ( "+I+" === undefined ",F&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(j)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { property: '"+e.util.escapeQuotes(D)+"', missingProperty: '"+Q+"', depsCount: "+g.length+", deps: '"+e.util.escapeQuotes(g.length==1?g[0]:g.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",g.length==1?r+="property "+e.util.escapeQuotes(g[0]):r+="properties "+e.util.escapeQuotes(g.join(", ")),r+=" when property "+e.util.escapeQuotes(D)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",$&&(l+="}",r+=" else { ")}e.errorPath=y;var G=t.baseId;for(var D in f){var R=f[D];(e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all))&&(r+=" "+c+" = true; if ( "+h+e.util.getProperty(D)+" !== undefined ",F&&(r+=" && Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(D)+"') "),r+=") { ",t.schema=R,t.schemaPath=E+e.util.getProperty(D),t.errSchemaPath=P+"/"+e.util.escapeFragment(D),r+="  "+e.validate(t)+" ",t.baseId=G,r+=" }  ",$&&(r+=" if ("+c+") { ",l+="}"))}return $&&(r+="   "+l+" if ("+v+" == errors) {"),r}},{}],24:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t=e.opts.$data&&o&&o.$data,l;t?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",l="schema"+n):l=o;var c="i"+n,f="schema"+n;t||(r+=" var "+f+" = validate.schema"+E+";"),r+="var "+v+";",t&&(r+=" if (schema"+n+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+n+")) "+v+" = false; else {"),r+=""+v+" = false;for (var "+c+"=0; "+c+"<"+f+".length; "+c+"++) if (equal("+h+", "+f+"["+c+"])) { "+v+" = true; break; }",t&&(r+="  }  "),r+=" if (!"+v+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { allowedValues: schema"+n+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var F=r;return r=p.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",$&&(r+=" else { "),r}},{}],25:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||"");if(e.opts.format===!1)return $&&(r+=" if (true) { "),r;var v=e.opts.$data&&o&&o.$data,t;v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o;var l=e.opts.unknownFormats,c=Array.isArray(l);if(v){var f="format"+n,p="isObject"+n,F="formatType"+n;r+=" var "+f+" = formats["+t+"]; var "+p+" = typeof "+f+" == 'object' && !("+f+" instanceof RegExp) && "+f+".validate; var "+F+" = "+p+" && "+f+".type || 'string'; if ("+p+") { ",e.async&&(r+=" var async"+n+" = "+f+".async; "),r+=" "+f+" = "+f+".validate; } if (  ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),r+=" (",l!="ignore"&&(r+=" ("+t+" && !"+f+" ",c&&(r+=" && self._opts.unknownFormats.indexOf("+t+") == -1 "),r+=") || "),r+=" ("+f+" && "+F+" == '"+L+"' && !(typeof "+f+" == 'function' ? ",e.async?r+=" (async"+n+" ? await "+f+"("+h+") : "+f+"("+h+")) ":r+=" "+f+"("+h+") ",r+=" : "+f+".test("+h+"))))) {"}else{var f=e.formats[o];if(!f){if(l=="ignore")return e.logger.warn('unknown format "'+o+'" ignored in schema at path "'+e.errSchemaPath+'"'),$&&(r+=" if (true) { "),r;if(c&&l.indexOf(o)>=0)return $&&(r+=" if (true) { "),r;throw new Error('unknown format "'+o+'" is used in schema at path "'+e.errSchemaPath+'"')}var p=typeof f=="object"&&!(f instanceof RegExp)&&f.validate,F=p&&f.type||"string";if(p){var R=f.async===!0;f=f.validate}if(F!=L)return $&&(r+=" if (true) { "),r;if(R){if(!e.async)throw new Error("async format in sync schema");var g="formats"+e.util.getProperty(o)+".validate";r+=" if (!(await "+g+"("+h+"))) { "}else{r+=" if (! ";var g="formats"+e.util.getProperty(o);p&&(g+=".validate"),typeof f=="function"?r+=" "+g+"("+h+") ":r+=" "+g+".test("+h+") ",r+=") { "}}var y=y||[];y.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { format:  ",v?r+=""+t:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,v?r+="' + "+t+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var D=r;return r=y.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+D+"]); ":r+=" validate.errors = ["+D+"]; return false; ":r+=" var err = "+D+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",$&&(r+=" else { "),r}},{}],26:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t="errs__"+n,l=e.util.copy(e);l.level++;var c="valid"+l.level,f=e.schema.then,p=e.schema.else,F=f!==void 0&&(e.opts.strictKeywords?typeof f=="object"&&Object.keys(f).length>0||f===!1:e.util.schemaHasRules(f,e.RULES.all)),R=p!==void 0&&(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)),g=l.baseId;if(F||R){var y;l.createErrors=!1,l.schema=o,l.schemaPath=E,l.errSchemaPath=P,r+=" var "+t+" = errors; var "+v+" = true;  ";var D=e.compositeRule;e.compositeRule=l.compositeRule=!0,r+="  "+e.validate(l)+" ",l.baseId=g,l.createErrors=!0,r+="  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; }  ",e.compositeRule=l.compositeRule=D,F?(r+=" if ("+c+") {  ",l.schema=e.schema.then,l.schemaPath=e.schemaPath+".then",l.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(l)+" ",l.baseId=g,r+=" "+v+" = "+c+"; ",F&&R?(y="ifClause"+n,r+=" var "+y+" = 'then'; "):y="'then'",r+=" } ",R&&(r+=" else { ")):r+=" if (!"+c+") { ",R&&(l.schema=e.schema.else,l.schemaPath=e.schemaPath+".else",l.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(l)+" ",l.baseId=g,r+=" "+v+" = "+c+"; ",F&&R?(y="ifClause"+n,r+=" var "+y+" = 'else'; "):y="'else'",r+=" } "),r+=" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { failingKeyword: "+y+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+y+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&$&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",$&&(r+=" else { ")}else $&&(r+=" if (true) { ");return r}},{}],27:[function(A,U,K){"use strict";U.exports={$ref:A("./ref"),allOf:A("./allOf"),anyOf:A("./anyOf"),$comment:A("./comment"),const:A("./const"),contains:A("./contains"),dependencies:A("./dependencies"),enum:A("./enum"),format:A("./format"),if:A("./if"),items:A("./items"),maximum:A("./_limit"),minimum:A("./_limit"),maxItems:A("./_limitItems"),minItems:A("./_limitItems"),maxLength:A("./_limitLength"),minLength:A("./_limitLength"),maxProperties:A("./_limitProperties"),minProperties:A("./_limitProperties"),multipleOf:A("./multipleOf"),not:A("./not"),oneOf:A("./oneOf"),pattern:A("./pattern"),properties:A("./properties"),propertyNames:A("./propertyNames"),required:A("./required"),uniqueItems:A("./uniqueItems"),validate:A("./validate")}},{"./_limit":13,"./_limitItems":14,"./_limitLength":15,"./_limitProperties":16,"./allOf":17,"./anyOf":18,"./comment":19,"./const":20,"./contains":21,"./dependencies":23,"./enum":24,"./format":25,"./if":26,"./items":28,"./multipleOf":29,"./not":30,"./oneOf":31,"./pattern":32,"./properties":33,"./propertyNames":34,"./ref":35,"./required":36,"./uniqueItems":37,"./validate":38}],28:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t="errs__"+n,l=e.util.copy(e),c="";l.level++;var f="valid"+l.level,p="i"+n,F=l.dataLevel=e.dataLevel+1,R="data"+F,g=e.baseId;if(r+="var "+t+" = errors;var "+v+";",Array.isArray(o)){var y=e.schema.additionalItems;if(y===!1){r+=" "+v+" = "+h+".length <= "+o.length+"; ";var D=P;P=e.errSchemaPath+"/additionalItems",r+="  if (!"+v+") {   ";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { limit: "+o.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var j=r;r=x.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+j+"]); ":r+=" validate.errors = ["+j+"]; return false; ":r+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",P=D,$&&(c+="}",r+=" else { ")}var O=o;if(O){for(var d,b=-1,I=O.length-1;b<I;)if(d=O[b+=1],e.opts.strictKeywords?typeof d=="object"&&Object.keys(d).length>0||d===!1:e.util.schemaHasRules(d,e.RULES.all)){r+=" "+f+" = true; if ("+h+".length > "+b+") { ";var z=h+"["+b+"]";l.schema=d,l.schemaPath=E+"["+b+"]",l.errSchemaPath=P+"/"+b,l.errorPath=e.util.getPathExpr(e.errorPath,b,e.opts.jsonPointers,!0),l.dataPathArr[F]=b;var Q=e.validate(l);l.baseId=g,e.util.varOccurences(Q,R)<2?r+=" "+e.util.varReplace(Q,R,z)+" ":r+=" var "+R+" = "+z+"; "+Q+" ",r+=" }  ",$&&(r+=" if ("+f+") { ",c+="}")}}if(typeof y=="object"&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))){l.schema=y,l.schemaPath=e.schemaPath+".additionalItems",l.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+f+" = true; if ("+h+".length > "+o.length+") {  for (var "+p+" = "+o.length+"; "+p+" < "+h+".length; "+p+"++) { ",l.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var z=h+"["+p+"]";l.dataPathArr[F]=p;var Q=e.validate(l);l.baseId=g,e.util.varOccurences(Q,R)<2?r+=" "+e.util.varReplace(Q,R,z)+" ":r+=" var "+R+" = "+z+"; "+Q+" ",$&&(r+=" if (!"+f+") break; "),r+=" } }  ",$&&(r+=" if ("+f+") { ",c+="}")}}else if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){l.schema=o,l.schemaPath=E,l.errSchemaPath=P,r+="  for (var "+p+" = 0; "+p+" < "+h+".length; "+p+"++) { ",l.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var z=h+"["+p+"]";l.dataPathArr[F]=p;var Q=e.validate(l);l.baseId=g,e.util.varOccurences(Q,R)<2?r+=" "+e.util.varReplace(Q,R,z)+" ":r+=" var "+R+" = "+z+"; "+Q+" ",$&&(r+=" if (!"+f+") break; "),r+=" }"}return $&&(r+=" "+c+" if ("+t+" == errors) {"),r}},{}],29:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;if(v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o,!(v||typeof o=="number"))throw new Error(a+" must be number");r+="var division"+n+";if (",v&&(r+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),r+=" (division"+n+" = "+h+" / "+t+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+n+") - division"+n+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+n+" !== parseInt(division"+n+") ",r+=" ) ",v&&(r+="  )  "),r+=" ) {   ";var l=l||[];l.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { multipleOf: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",v?r+="' + "+t:r+=""+t+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var c=r;return r=l.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+c+"]); ":r+=" validate.errors = ["+c+"]; return false; ":r+=" var err = "+c+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",$&&(r+=" else { "),r}},{}],30:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="errs__"+n,t=e.util.copy(e);t.level++;var l="valid"+t.level;if(e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){t.schema=o,t.schemaPath=E,t.errSchemaPath=P,r+=" var "+v+" = errors;  ";var c=e.compositeRule;e.compositeRule=t.compositeRule=!0,t.createErrors=!1;var f;t.opts.allErrors&&(f=t.opts.allErrors,t.opts.allErrors=!1),r+=" "+e.validate(t)+" ",t.createErrors=!0,f&&(t.opts.allErrors=f),e.compositeRule=t.compositeRule=c,r+=" if ("+l+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var F=r;r=p.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+F+"]); ":r+=" validate.errors = ["+F+"]; return false; ":r+=" var err = "+F+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",$&&(r+=" if (false) { ");return r}},{}],31:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t="errs__"+n,l=e.util.copy(e),c="";l.level++;var f="valid"+l.level,p=l.baseId,F="prevValid"+n,R="passingSchemas"+n;r+="var "+t+" = errors , "+F+" = false , "+v+" = false , "+R+" = null; ";var g=e.compositeRule;e.compositeRule=l.compositeRule=!0;var y=o;if(y)for(var D,x=-1,j=y.length-1;x<j;)D=y[x+=1],(e.opts.strictKeywords?typeof D=="object"&&Object.keys(D).length>0||D===!1:e.util.schemaHasRules(D,e.RULES.all))?(l.schema=D,l.schemaPath=E+"["+x+"]",l.errSchemaPath=P+"/"+x,r+="  "+e.validate(l)+" ",l.baseId=p):r+=" var "+f+" = true; ",x&&(r+=" if ("+f+" && "+F+") { "+v+" = false; "+R+" = ["+R+", "+x+"]; } else { ",c+="}"),r+=" if ("+f+") { "+v+" = "+F+" = true; "+R+" = "+x+"; }";return e.compositeRule=l.compositeRule=g,r+=""+c+"if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { passingSchemas: "+R+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&$&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}},{}],32:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v=e.opts.$data&&o&&o.$data,t;v?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",t="schema"+n):t=o;var l=v?"(new RegExp("+t+"))":e.usePattern(o);r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),r+=" !"+l+".test("+h+") ) {   ";var c=c||[];c.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { pattern:  ",v?r+=""+t:r+=""+e.util.toQuotedString(o),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,v?r+="' + "+t+" + '":r+=""+e.util.escapeQuotes(o),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+E:r+=""+e.util.toQuotedString(o),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var f=r;return r=c.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",$&&(r+=" else { "),r}},{}],33:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="errs__"+n,t=e.util.copy(e),l="";t.level++;var c="valid"+t.level,f="key"+n,p="idx"+n,F=t.dataLevel=e.dataLevel+1,R="data"+F,g="dataProperties"+n,y=Object.keys(o||{}).filter(X),D=e.schema.patternProperties||{},x=Object.keys(D).filter(X),j=e.schema.additionalProperties,O=y.length||x.length,d=j===!1,b=typeof j=="object"&&Object.keys(j).length,I=e.opts.removeAdditional,z=d||b||I,Q=e.opts.ownProperties,H=e.baseId,ee=e.schema.required;if(ee&&!(e.opts.$data&&ee.$data)&&ee.length<e.opts.loopRequired)var B=e.util.toHash(ee);function X(Ae){return Ae!=="__proto__"}if(r+="var "+v+" = errors;var "+c+" = true;",Q&&(r+=" var "+g+" = undefined;"),z){if(Q?r+=" "+g+" = "+g+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+g+".length; "+p+"++) { var "+f+" = "+g+"["+p+"]; ":r+=" for (var "+f+" in "+h+") { ",O){if(r+=" var isAdditional"+n+" = !(false ",y.length)if(y.length>8)r+=" || validate.schema"+E+".hasOwnProperty("+f+") ";else{var J=y;if(J)for(var G,Se=-1,_e=J.length-1;Se<_e;)G=J[Se+=1],r+=" || "+f+" == "+e.util.toQuotedString(G)+" "}if(x.length){var $e=x;if($e)for(var fe,de=-1,m=$e.length-1;de<m;)fe=$e[de+=1],r+=" || "+e.usePattern(fe)+".test("+f+") "}r+=" ); if (isAdditional"+n+") { "}if(I=="all")r+=" delete "+h+"["+f+"]; ";else{var C=e.errorPath,q="' + "+f+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers)),d)if(I)r+=" delete "+h+"["+f+"]; ";else{r+=" "+c+" = false; ";var Y=P;P=e.errSchemaPath+"/additionalProperties";var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { additionalProperty: '"+q+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var V=r;r=N.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=Y,$&&(r+=" break; ")}else if(b)if(I=="failing"){r+=" var "+v+" = errors;  ";var W=e.compositeRule;e.compositeRule=t.compositeRule=!0,t.schema=j,t.schemaPath=e.schemaPath+".additionalProperties",t.errSchemaPath=e.errSchemaPath+"/additionalProperties",t.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var re=h+"["+f+"]";t.dataPathArr[F]=f;var k=e.validate(t);t.baseId=H,e.util.varOccurences(k,R)<2?r+=" "+e.util.varReplace(k,R,re)+" ":r+=" var "+R+" = "+re+"; "+k+" ",r+=" if (!"+c+") { errors = "+v+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+h+"["+f+"]; }  ",e.compositeRule=t.compositeRule=W}else{t.schema=j,t.schemaPath=e.schemaPath+".additionalProperties",t.errSchemaPath=e.errSchemaPath+"/additionalProperties",t.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var re=h+"["+f+"]";t.dataPathArr[F]=f;var k=e.validate(t);t.baseId=H,e.util.varOccurences(k,R)<2?r+=" "+e.util.varReplace(k,R,re)+" ":r+=" var "+R+" = "+re+"; "+k+" ",$&&(r+=" if (!"+c+") break; ")}e.errorPath=C}O&&(r+=" } "),r+=" }  ",$&&(r+=" if ("+c+") { ",l+="}")}var ue=e.opts.useDefaults&&!e.compositeRule;if(y.length){var he=y;if(he)for(var G,se=-1,be=he.length-1;se<be;){G=he[se+=1];var ge=o[G];if(e.opts.strictKeywords?typeof ge=="object"&&Object.keys(ge).length>0||ge===!1:e.util.schemaHasRules(ge,e.RULES.all)){var we=e.util.getProperty(G),re=h+we,ce=ue&&ge.default!==void 0;t.schema=ge,t.schemaPath=E+we,t.errSchemaPath=P+"/"+e.util.escapeFragment(G),t.errorPath=e.util.getPath(e.errorPath,G,e.opts.jsonPointers),t.dataPathArr[F]=e.util.toQuotedString(G);var k=e.validate(t);if(t.baseId=H,e.util.varOccurences(k,R)<2){k=e.util.varReplace(k,R,re);var ye=re}else{var ye=R;r+=" var "+R+" = "+re+"; "}if(ce)r+=" "+k+" ";else{if(B&&B[G]){r+=" if ( "+ye+" === undefined ",Q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(G)+"') "),r+=") { "+c+" = false; ";var C=e.errorPath,Y=P,xe=e.util.escapeQuotes(G);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(C,G,e.opts.jsonPointers)),P=e.errSchemaPath+"/required";var N=N||[];N.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+xe+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+xe+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var V=r;r=N.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+V+"]); ":r+=" validate.errors = ["+V+"]; return false; ":r+=" var err = "+V+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P=Y,e.errorPath=C,r+=" } else { "}else $?(r+=" if ( "+ye+" === undefined ",Q&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(G)+"') "),r+=") { "+c+" = true; } else { "):(r+=" if ("+ye+" !== undefined ",Q&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(G)+"') "),r+=" ) { ");r+=" "+k+" } "}}$&&(r+=" if ("+c+") { ",l+="}")}}if(x.length){var Re=x;if(Re)for(var fe,tr=-1,lr=Re.length-1;tr<lr;){fe=Re[tr+=1];var ge=D[fe];if(e.opts.strictKeywords?typeof ge=="object"&&Object.keys(ge).length>0||ge===!1:e.util.schemaHasRules(ge,e.RULES.all)){t.schema=ge,t.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(fe),t.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(fe),Q?r+=" "+g+" = "+g+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+g+".length; "+p+"++) { var "+f+" = "+g+"["+p+"]; ":r+=" for (var "+f+" in "+h+") { ",r+=" if ("+e.usePattern(fe)+".test("+f+")) { ",t.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers);var re=h+"["+f+"]";t.dataPathArr[F]=f;var k=e.validate(t);t.baseId=H,e.util.varOccurences(k,R)<2?r+=" "+e.util.varReplace(k,R,re)+" ":r+=" var "+R+" = "+re+"; "+k+" ",$&&(r+=" if (!"+c+") break; "),r+=" } ",$&&(r+=" else "+c+" = true; "),r+=" }  ",$&&(r+=" if ("+c+") { ",l+="}")}}}return $&&(r+=" "+l+" if ("+v+" == errors) {"),r}},{}],34:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="errs__"+n,t=e.util.copy(e),l="";t.level++;var c="valid"+t.level;if(r+="var "+v+" = errors;",e.opts.strictKeywords?typeof o=="object"&&Object.keys(o).length>0||o===!1:e.util.schemaHasRules(o,e.RULES.all)){t.schema=o,t.schemaPath=E,t.errSchemaPath=P;var f="key"+n,p="idx"+n,F="i"+n,R="' + "+f+" + '",g=t.dataLevel=e.dataLevel+1,y="data"+g,D="dataProperties"+n,x=e.opts.ownProperties,j=e.baseId;x&&(r+=" var "+D+" = undefined; "),x?r+=" "+D+" = "+D+" || Object.keys("+h+"); for (var "+p+"=0; "+p+"<"+D+".length; "+p+"++) { var "+f+" = "+D+"["+p+"]; ":r+=" for (var "+f+" in "+h+") { ",r+=" var startErrs"+n+" = errors; ";var O=f,d=e.compositeRule;e.compositeRule=t.compositeRule=!0;var b=e.validate(t);t.baseId=j,e.util.varOccurences(b,y)<2?r+=" "+e.util.varReplace(b,y,O)+" ":r+=" var "+y+" = "+O+"; "+b+" ",e.compositeRule=t.compositeRule=d,r+=" if (!"+c+") { for (var "+F+"=startErrs"+n+"; "+F+"<errors; "+F+"++) { vErrors["+F+"].propertyName = "+f+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { propertyName: '"+R+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+R+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&$&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),$&&(r+=" break; "),r+=" } }"}return $&&(r+=" "+l+" if ("+v+" == errors) {"),r}},{}],35:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.errSchemaPath+"/"+a,P=!e.opts.allErrors,$="data"+(S||""),h="valid"+n,v,t;if(o=="#"||o=="#/")e.isRoot?(v=e.async,t="validate"):(v=e.root.schema.$async===!0,t="root.refVal[0]");else{var l=e.resolveRef(e.baseId,o,e.isRoot);if(l===void 0){var c=e.MissingRefError.message(e.baseId,o);if(e.opts.missingRefs=="fail"){e.logger.error(c);var f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(E)+" , params: { ref: '"+e.util.escapeQuotes(o)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(o)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(o)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+$+" "),r+=" } "):r+=" {} ";var p=r;r=f.pop(),!e.compositeRule&&P?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",P&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(c),P&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,o,c)}else if(l.inline){var F=e.util.copy(e);F.level++;var R="valid"+F.level;F.schema=l.schema,F.schemaPath="",F.errSchemaPath=o;var g=e.validate(F).replace(/validate\.schema/g,l.code);r+=" "+g+" ",P&&(r+=" if ("+R+") { ")}else v=l.$async===!0||e.async&&l.$async!==!1,t=l.code}if(t){var f=f||[];f.push(r),r="",e.opts.passContext?r+=" "+t+".call(this, ":r+=" "+t+"( ",r+=" "+$+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var y=S?"data"+(S-1||""):"parentData",D=S?e.dataPathArr[S]:"parentDataProperty";r+=" , "+y+" , "+D+", rootData)  ";var x=r;if(r=f.pop(),v){if(!e.async)throw new Error("async schema referenced by sync schema");P&&(r+=" var "+h+"; "),r+=" try { await "+x+"; ",P&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",P&&(r+=" "+h+" = false; "),r+=" } ",P&&(r+=" if ("+h+") { ")}else r+=" if (!"+x+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",P&&(r+=" else { ")}return r}},{}],36:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t=e.opts.$data&&o&&o.$data,l;t?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",l="schema"+n):l=o;var c="schema"+n;if(!t)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],p=o;if(p)for(var F,R=-1,g=p.length-1;R<g;){F=p[R+=1];var y=e.schema.properties[F];y&&(e.opts.strictKeywords?typeof y=="object"&&Object.keys(y).length>0||y===!1:e.util.schemaHasRules(y,e.RULES.all))||(f[f.length]=F)}}else var f=o;if(t||f.length){var D=e.errorPath,x=t||f.length>=e.opts.loopRequired,j=e.opts.ownProperties;if($)if(r+=" var missing"+n+"; ",x){t||(r+=" var "+c+" = validate.schema"+E+"; ");var O="i"+n,d="schema"+n+"["+O+"]",b="' + "+d+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(D,d,e.opts.jsonPointers)),r+=" var "+v+" = true; ",t&&(r+=" if (schema"+n+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+n+")) "+v+" = false; else {"),r+=" for (var "+O+" = 0; "+O+" < "+c+".length; "+O+"++) { "+v+" = "+h+"["+c+"["+O+"]] !== undefined ",j&&(r+=" &&   Object.prototype.hasOwnProperty.call("+h+", "+c+"["+O+"]) "),r+="; if (!"+v+") break; } ",t&&(r+="  }  "),r+="  if (!"+v+") {   ";var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+b+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var z=r;r=I.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var Q=f;if(Q)for(var H,O=-1,ee=Q.length-1;O<ee;){H=Q[O+=1],O&&(r+=" || ");var B=e.util.getProperty(H),X=h+B;r+=" ( ( "+X+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(H)+"') "),r+=") && (missing"+n+" = "+e.util.toQuotedString(e.opts.jsonPointers?H:B)+") ) "}r+=") {  ";var d="missing"+n,b="' + "+d+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(D,d,!0):D+" + "+d);var I=I||[];I.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+b+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var z=r;r=I.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(x){t||(r+=" var "+c+" = validate.schema"+E+"; ");var O="i"+n,d="schema"+n+"["+O+"]",b="' + "+d+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(D,d,e.opts.jsonPointers)),t&&(r+=" if ("+c+" && !Array.isArray("+c+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+b+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+c+" !== undefined) { "),r+=" for (var "+O+" = 0; "+O+" < "+c+".length; "+O+"++) { if ("+h+"["+c+"["+O+"]] === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", "+c+"["+O+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+b+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",t&&(r+="  }  ")}else{var J=f;if(J)for(var H,G=-1,Se=J.length-1;G<Se;){H=J[G+=1];var B=e.util.getProperty(H),b=e.util.escapeQuotes(H),X=h+B;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(D,H,e.opts.jsonPointers)),r+=" if ( "+X+" === undefined ",j&&(r+=" || ! Object.prototype.hasOwnProperty.call("+h+", '"+e.util.escapeQuotes(H)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { missingProperty: '"+b+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+b+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+E+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=D}else $&&(r+=" if (true) {");return r}},{}],37:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r=" ",n=e.level,S=e.dataLevel,o=e.schema[a],E=e.schemaPath+e.util.getProperty(a),P=e.errSchemaPath+"/"+a,$=!e.opts.allErrors,h="data"+(S||""),v="valid"+n,t=e.opts.$data&&o&&o.$data,l;if(t?(r+=" var schema"+n+" = "+e.util.getData(o.$data,S,e.dataPathArr)+"; ",l="schema"+n):l=o,(o||t)&&e.opts.uniqueItems!==!1){t&&(r+=" var "+v+"; if ("+l+" === false || "+l+" === undefined) "+v+" = true; else if (typeof "+l+" != 'boolean') "+v+" = false; else { "),r+=" var i = "+h+".length , "+v+" = true , j; if (i > 1) { ";var c=e.schema.items&&e.schema.items.type,f=Array.isArray(c);if(!c||c=="object"||c=="array"||f&&(c.indexOf("object")>=0||c.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+h+"[i], "+h+"[j])) { "+v+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+h+"[i]; ";var p="checkDataType"+(f?"s":"");r+=" if ("+e.util[p](c,"item",e.opts.strictNumbers,!0)+") continue; ",f&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+v+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",t&&(r+="  }  "),r+=" if (!"+v+") {   ";var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",t?r+="validate.schema"+E:r+=""+o,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var R=r;r=F.pop(),!e.compositeRule&&$?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",$&&(r+=" else { ")}else $&&(r+=" if (true) { ");return r}},{}],38:[function(A,U,K){"use strict";U.exports=function(e,a,L){var r="",n=e.schema.$async===!0,S=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var E=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(E){var P="unknown keyword: "+E;if(e.opts.strictKeywords==="log")e.logger.warn(P);else throw new Error(P)}}if(e.isTop&&(r+=" var validate = ",n&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+o+" */")+" ")),typeof e.schema=="boolean"||!(S||e.schema.$ref)){var a="false schema",$=e.level,h=e.dataLevel,v=e.schema[a],t=e.schemaPath+e.util.getProperty(a),l=e.errSchemaPath+"/"+a,y=!e.opts.allErrors,j,c="data"+(h||""),g="valid"+$;if(e.schema===!1){e.isTop?y=!0:r+=" var "+g+" = false; ";var f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;r=f.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?n?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+g+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var F=e.isTop,$=e.level=0,h=e.dataLevel=0,c="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var R="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var $=e.level,h=e.dataLevel,c="data"+(h||"");if(o&&(e.baseId=e.resolve.url(e.baseId,o)),n&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+$+" = errors;"}var g="valid"+$,y=!e.opts.allErrors,D="",x="",j,O=e.schema.type,d=Array.isArray(O);if(O&&e.opts.nullable&&e.schema.nullable===!0&&(d?O.indexOf("null")==-1&&(O=O.concat("null")):O!="null"&&(O=[O,"null"],d=!0)),d&&O.length==1&&(O=O[0],d=!1),e.schema.$ref&&S){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(S=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),O){if(e.opts.coerceTypes)var b=e.util.coerceToTypes(e.opts.coerceTypes,O);var I=e.RULES.types[O];if(b||d||I===!0||I&&!ge(I)){var t=e.schemaPath+".type",l=e.errSchemaPath+"/type",t=e.schemaPath+".type",l=e.errSchemaPath+"/type",z=d?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[z](O,c,e.opts.strictNumbers,!0)+") { ",b){var Q="dataType"+$,H="coerced"+$;r+=" var "+Q+" = typeof "+c+"; var "+H+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+Q+" == 'object' && Array.isArray("+c+") && "+c+".length == 1) { "+c+" = "+c+"[0]; "+Q+" = typeof "+c+"; if ("+e.util.checkDataType(e.schema.type,c,e.opts.strictNumbers)+") "+H+" = "+c+"; } "),r+=" if ("+H+" !== undefined) ; ";var ee=b;if(ee)for(var B,X=-1,J=ee.length-1;X<J;)B=ee[X+=1],B=="string"?r+=" else if ("+Q+" == 'number' || "+Q+" == 'boolean') "+H+" = '' + "+c+"; else if ("+c+" === null) "+H+" = ''; ":B=="number"||B=="integer"?(r+=" else if ("+Q+" == 'boolean' || "+c+" === null || ("+Q+" == 'string' && "+c+" && "+c+" == +"+c+" ",B=="integer"&&(r+=" && !("+c+" % 1)"),r+=")) "+H+" = +"+c+"; "):B=="boolean"?r+=" else if ("+c+" === 'false' || "+c+" === 0 || "+c+" === null) "+H+" = false; else if ("+c+" === 'true' || "+c+" === 1) "+H+" = true; ":B=="null"?r+=" else if ("+c+" === '' || "+c+" === 0 || "+c+" === false) "+H+" = null; ":e.opts.coerceTypes=="array"&&B=="array"&&(r+=" else if ("+Q+" == 'string' || "+Q+" == 'number' || "+Q+" == 'boolean' || "+c+" == null) "+H+" = ["+c+"]; ");r+=" else {   ";var f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",d?r+=""+O.join(","):r+=""+O,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",d?r+=""+O.join(","):r+=""+O,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;r=f.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+H+" !== undefined) {  ";var G=h?"data"+(h-1||""):"parentData",Se=h?e.dataPathArr[h]:"parentDataProperty";r+=" "+c+" = "+H+"; ",h||(r+="if ("+G+" !== undefined)"),r+=" "+G+"["+Se+"] = "+H+"; } "}else{var f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",d?r+=""+O.join(","):r+=""+O,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",d?r+=""+O.join(","):r+=""+O,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;r=f.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!S)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",y&&(r+=" } if (errors === ",F?r+="0":r+="errs_"+$,r+=") { ",x+="}");else{var _e=e.RULES;if(_e){for(var I,$e=-1,fe=_e.length-1;$e<fe;)if(I=_e[$e+=1],ge(I)){if(I.type&&(r+=" if ("+e.util.checkDataType(I.type,c,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(I.type=="object"&&e.schema.properties){var v=e.schema.properties,de=Object.keys(v),m=de;if(m)for(var C,q=-1,Y=m.length-1;q<Y;){C=m[q+=1];var N=v[C];if(N.default!==void 0){var V=c+e.util.getProperty(C);if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+V;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else r+=" if ("+V+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(N.default)+" ":r+=" "+JSON.stringify(N.default)+" ",r+="; "}}}else if(I.type=="array"&&Array.isArray(e.schema.items)){var W=e.schema.items;if(W){for(var N,X=-1,re=W.length-1;X<re;)if(N=W[X+=1],N.default!==void 0){var V=c+"["+X+"]";if(e.compositeRule){if(e.opts.strictDefaults){var R="default is ignored for: "+V;if(e.opts.strictDefaults==="log")e.logger.warn(R);else throw new Error(R)}}else r+=" if ("+V+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+V+" === null || "+V+" === '' "),r+=" ) "+V+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(N.default)+" ":r+=" "+JSON.stringify(N.default)+" ",r+="; "}}}}var k=I.rules;if(k){for(var ue,he=-1,se=k.length-1;he<se;)if(ue=k[he+=1],we(ue)){var be=ue.code(e,ue.keyword,I.type);be&&(r+=" "+be+" ",y&&(D+="}"))}}if(y&&(r+=" "+D+" ",D=""),I.type&&(r+=" } ",O&&O===I.type&&!b)){r+=" else { ";var t=e.schemaPath+".type",l=e.errSchemaPath+"/type",f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(j||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { type: '",d?r+=""+O.join(","):r+=""+O,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",d?r+=""+O.join(","):r+=""+O,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var p=r;r=f.pop(),!e.compositeRule&&y?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}y&&(r+=" if (errors === ",F?r+="0":r+="errs_"+$,r+=") { ",x+="}")}}}y&&(r+=" "+x+" "),F?(n?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+g+" = errors === errs_"+$+";";function ge(ye){for(var xe=ye.rules,Re=0;Re<xe.length;Re++)if(we(xe[Re]))return!0}function we(ye){return e.schema[ye.keyword]!==void 0||ye.implements&&ce(ye)}function ce(ye){for(var xe=ye.implements,Re=0;Re<xe.length;Re++)if(e.schema[xe[Re]]!==void 0)return!0}return r}},{}],39:[function(A,U,K){"use strict";var T=/^[a-z_$][a-z0-9_$-]*$/i,e=A("./dotjs/custom"),a=A("./definition_schema");U.exports={add:L,get:r,remove:n,validate:S};function L(o,E){var P=this.RULES;if(P.keywords[o])throw new Error("Keyword "+o+" is already defined");if(!T.test(o))throw new Error("Keyword "+o+" is not a valid identifier");if(E){this.validateKeyword(E,!0);var $=E.type;if(Array.isArray($))for(var h=0;h<$.length;h++)t(o,$[h],E);else t(o,$,E);var v=E.metaSchema;v&&(E.$data&&this._opts.$data&&(v={anyOf:[v,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),E.validateSchema=this.compile(v,!0))}P.keywords[o]=P.all[o]=!0;function t(l,c,f){for(var p,F=0;F<P.length;F++){var R=P[F];if(R.type==c){p=R;break}}p||(p={type:c,rules:[]},P.push(p));var g={keyword:l,definition:f,custom:!0,code:e,implements:f.implements};p.rules.push(g),P.custom[l]=g}return this}function r(o){var E=this.RULES.custom[o];return E?E.definition:this.RULES.keywords[o]||!1}function n(o){var E=this.RULES;delete E.keywords[o],delete E.all[o],delete E.custom[o];for(var P=0;P<E.length;P++)for(var $=E[P].rules,h=0;h<$.length;h++)if($[h].keyword==o){$.splice(h,1);break}return this}function S(o,E){S.errors=null;var P=this._validateKeyword=this._validateKeyword||this.compile(a,!0);if(P(o))return!0;if(S.errors=P.errors,E)throw new Error("custom keyword definition is invalid: "+this.errorsText(P.errors));return!1}},{"./definition_schema":12,"./dotjs/custom":22}],40:[function(A,U,K){U.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},{}],41:[function(A,U,K){U.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}},{}],42:[function(A,U,K){"use strict";U.exports=function T(e,a){if(e===a)return!0;if(e&&a&&typeof e=="object"&&typeof a=="object"){if(e.constructor!==a.constructor)return!1;var L,r,n;if(Array.isArray(e)){if(L=e.length,L!=a.length)return!1;for(r=L;r--!==0;)if(!T(e[r],a[r]))return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if(n=Object.keys(e),L=n.length,L!==Object.keys(a).length)return!1;for(r=L;r--!==0;)if(!Object.prototype.hasOwnProperty.call(a,n[r]))return!1;for(r=L;r--!==0;){var S=n[r];if(!T(e[S],a[S]))return!1}return!0}return e!==e&&a!==a}},{}],43:[function(A,U,K){"use strict";U.exports=function(T,e){e||(e={}),typeof e=="function"&&(e={cmp:e});var a=typeof e.cycles=="boolean"?e.cycles:!1,L=e.cmp&&function(n){return function(S){return function(o,E){var P={key:o,value:S[o]},$={key:E,value:S[E]};return n(P,$)}}}(e.cmp),r=[];return function n(S){if(S&&S.toJSON&&typeof S.toJSON=="function"&&(S=S.toJSON()),S!==void 0){if(typeof S=="number")return isFinite(S)?""+S:"null";if(typeof S!="object")return JSON.stringify(S);var o,E;if(Array.isArray(S)){for(E="[",o=0;o<S.length;o++)o&&(E+=","),E+=n(S[o])||"null";return E+"]"}if(S===null)return"null";if(r.indexOf(S)!==-1){if(a)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var P=r.push(S)-1,$=Object.keys(S).sort(L&&L(S));for(E="",o=0;o<$.length;o++){var h=$[o],v=n(S[h]);v&&(E&&(E+=","),E+=JSON.stringify(h)+":"+v)}return r.splice(P,1),"{"+E+"}"}}(T)}},{}],44:[function(A,U,K){"use strict";var T=U.exports=function(L,r,n){typeof r=="function"&&(n=r,r={}),n=r.cb||n;var S=typeof n=="function"?n:n.pre||function(){},o=n.post||function(){};e(r,S,o,L,"",L)};T.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},T.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},T.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},T.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(L,r,n,S,o,E,P,$,h,v){if(S&&typeof S=="object"&&!Array.isArray(S)){r(S,o,E,P,$,h,v);for(var t in S){var l=S[t];if(Array.isArray(l)){if(t in T.arrayKeywords)for(var c=0;c<l.length;c++)e(L,r,n,l[c],o+"/"+t+"/"+c,E,o,t,S,c)}else if(t in T.propsKeywords){if(l&&typeof l=="object")for(var f in l)e(L,r,n,l[f],o+"/"+t+"/"+a(f),E,o,t,S,f)}else(t in T.keywords||L.allKeys&&!(t in T.skipKeywords))&&e(L,r,n,l,o+"/"+t,E,o,t,S)}n(S,o,E,P,$,h,v)}}function a(L){return L.replace(/~/g,"~0").replace(/\//g,"~1")}},{}],45:[function(A,U,K){/** @license URI.js v4.4.0 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(T,e){typeof K=="object"&&typeof U<"u"?e(K):typeof Ue=="function"&&Ue.amd?Ue(["exports"],e):e(T.URI=T.URI||{})})(this,function(T){"use strict";function e(){for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];if(s.length>1){s[0]=s[0].slice(0,-1);for(var _=s.length-1,w=1;w<_;++w)s[w]=s[w].slice(1,-1);return s[_]=s[_].slice(1),s.join("")}else return s[0]}function a(i){return"(?:"+i+")"}function L(i){return i===void 0?"undefined":i===null?"null":Object.prototype.toString.call(i).split(" ").pop().split("]").shift().toLowerCase()}function r(i){return i.toUpperCase()}function n(i){return i!=null?i instanceof Array?i:typeof i.length!="number"||i.split||i.setInterval||i.call?[i]:Array.prototype.slice.call(i):[]}function S(i,s){var u=i;if(s)for(var _ in s)u[_]=s[_];return u}function o(i){var s="[A-Za-z]",u="[\\x0D]",_="[0-9]",w="[\\x22]",M=e(_,"[A-Fa-f]"),Z="[\\x0A]",te="[\\x20]",ne=a(a("%[EFef]"+M+"%"+M+M+"%"+M+M)+"|"+a("%[89A-Fa-f]"+M+"%"+M+M)+"|"+a("%"+M+M)),Pe="[\\:\\/\\?\\#\\[\\]\\@]",ae="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",pe=e(Pe,ae),Ee=i?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",ve=i?"[\\uE000-\\uF8FF]":"[]",oe=e(s,_,"[\\-\\.\\_\\~]",Ee),me=a(s+e(s,_,"[\\+\\-\\.]")+"*"),le=a(a(ne+"|"+e(oe,ae,"[\\:]"))+"*"),ze=a(a("25[0-5]")+"|"+a("2[0-4]"+_)+"|"+a("1"+_+_)+"|"+a("[1-9]"+_)+"|"+_),De=a(a("25[0-5]")+"|"+a("2[0-4]"+_)+"|"+a("1"+_+_)+"|"+a("0?[1-9]"+_)+"|0?0?"+_),Fe=a(De+"\\."+De+"\\."+De+"\\."+De),ie=a(M+"{1,4}"),Oe=a(a(ie+"\\:"+ie)+"|"+Fe),Ie=a(a(ie+"\\:")+"{6}"+Oe),Ce=a("\\:\\:"+a(ie+"\\:")+"{5}"+Oe),Ve=a(a(ie)+"?\\:\\:"+a(ie+"\\:")+"{4}"+Oe),Te=a(a(a(ie+"\\:")+"{0,1}"+ie)+"?\\:\\:"+a(ie+"\\:")+"{3}"+Oe),Xe=a(a(a(ie+"\\:")+"{0,2}"+ie)+"?\\:\\:"+a(ie+"\\:")+"{2}"+Oe),sr=a(a(a(ie+"\\:")+"{0,3}"+ie)+"?\\:\\:"+ie+"\\:"+Oe),or=a(a(a(ie+"\\:")+"{0,4}"+ie)+"?\\:\\:"+Oe),qe=a(a(a(ie+"\\:")+"{0,5}"+ie)+"?\\:\\:"+ie),Ke=a(a(a(ie+"\\:")+"{0,6}"+ie)+"?\\:\\:"),Le=a([Ie,Ce,Ve,Te,Xe,sr,or,qe,Ke].join("|")),Be=a(a(oe+"|"+ne)+"+"),fr=a(Le+"\\%25"+Be),Qe=a(Le+a("\\%25|\\%(?!"+M+"{2})")+Be),Tr=a("[vV]"+M+"+\\."+e(oe,ae,"[\\:]")+"+"),Lr=a("\\["+a(Qe+"|"+Le+"|"+Tr)+"\\]"),Er=a(a(ne+"|"+e(oe,ae))+"*"),We=a(Lr+"|"+Fe+"(?!"+Er+")|"+Er),er=a(_+"*"),yr=a(a(le+"@")+"?"+We+a("\\:"+er)+"?"),rr=a(ne+"|"+e(oe,ae,"[\\:\\@]")),Nr=a(rr+"*"),Sr=a(rr+"+"),Ur=a(a(ne+"|"+e(oe,ae,"[\\@]"))+"+"),Ne=a(a("\\/"+Nr)+"*"),ke=a("\\/"+a(Sr+Ne)+"?"),ur=a(Ur+Ne),nr=a(Sr+Ne),Je="(?!"+rr+")",Hr=a(Ne+"|"+ke+"|"+ur+"|"+nr+"|"+Je),Ge=a(a(rr+"|"+e("[\\/\\?]",ve))+"*"),ar=a(a(rr+"|[\\/\\?]")+"*"),$r=a(a("\\/\\/"+yr+Ne)+"|"+ke+"|"+nr+"|"+Je),zr=a(me+"\\:"+$r+a("\\?"+Ge)+"?"+a("\\#"+ar)+"?"),Vr=a(a("\\/\\/"+yr+Ne)+"|"+ke+"|"+ur+"|"+Je),Qr=a(Vr+a("\\?"+Ge)+"?"+a("\\#"+ar)+"?"),qr=a(zr+"|"+Qr),Kr=a(me+"\\:"+$r+a("\\?"+Ge)+"?"),Br="^("+me+")\\:"+a(a("\\/\\/("+a("("+le+")@")+"?("+We+")"+a("\\:("+er+")")+"?)")+"?("+Ne+"|"+ke+"|"+nr+"|"+Je+")")+a("\\?("+Ge+")")+"?"+a("\\#("+ar+")")+"?$",kr="^(){0}"+a(a("\\/\\/("+a("("+le+")@")+"?("+We+")"+a("\\:("+er+")")+"?)")+"?("+Ne+"|"+ke+"|"+ur+"|"+Je+")")+a("\\?("+Ge+")")+"?"+a("\\#("+ar+")")+"?$",Jr="^("+me+")\\:"+a(a("\\/\\/("+a("("+le+")@")+"?("+We+")"+a("\\:("+er+")")+"?)")+"?("+Ne+"|"+ke+"|"+nr+"|"+Je+")")+a("\\?("+Ge+")")+"?$",Gr="^"+a("\\#("+ar+")")+"?$",Yr="^"+a("("+le+")@")+"?("+We+")"+a("\\:("+er+")")+"?$";return{NOT_SCHEME:new RegExp(e("[^]",s,_,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(e("[^\\%\\:]",oe,ae),"g"),NOT_HOST:new RegExp(e("[^\\%\\[\\]\\:]",oe,ae),"g"),NOT_PATH:new RegExp(e("[^\\%\\/\\:\\@]",oe,ae),"g"),NOT_PATH_NOSCHEME:new RegExp(e("[^\\%\\/\\@]",oe,ae),"g"),NOT_QUERY:new RegExp(e("[^\\%]",oe,ae,"[\\:\\@\\/\\?]",ve),"g"),NOT_FRAGMENT:new RegExp(e("[^\\%]",oe,ae,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(e("[^]",oe,ae),"g"),UNRESERVED:new RegExp(oe,"g"),OTHER_CHARS:new RegExp(e("[^\\%]",oe,pe),"g"),PCT_ENCODED:new RegExp(ne,"g"),IPV4ADDRESS:new RegExp("^("+Fe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Le+")"+a(a("\\%25|\\%(?!"+M+"{2})")+"("+Be+")")+"?\\]?$")}}var E=o(!1),P=o(!0),$=function(){function i(s,u){var _=[],w=!0,M=!1,Z=void 0;try{for(var te=s[Symbol.iterator](),ne;!(w=(ne=te.next()).done)&&(_.push(ne.value),!(u&&_.length===u));w=!0);}catch(Pe){M=!0,Z=Pe}finally{try{!w&&te.return&&te.return()}finally{if(M)throw Z}}return _}return function(s,u){if(Array.isArray(s))return s;if(Symbol.iterator in Object(s))return i(s,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(i){if(Array.isArray(i)){for(var s=0,u=Array(i.length);s<i.length;s++)u[s]=i[s];return u}else return Array.from(i)},v=2147483647,t=36,l=1,c=26,f=38,p=700,F=72,R=128,g="-",y=/^xn--/,D=/[^\0-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},O=t-l,d=Math.floor,b=String.fromCharCode;function I(i){throw new RangeError(j[i])}function z(i,s){for(var u=[],_=i.length;_--;)u[_]=s(i[_]);return u}function Q(i,s){var u=i.split("@"),_="";u.length>1&&(_=u[0]+"@",i=u[1]),i=i.replace(x,".");var w=i.split("."),M=z(w,s).join(".");return _+M}function H(i){for(var s=[],u=0,_=i.length;u<_;){var w=i.charCodeAt(u++);if(w>=55296&&w<=56319&&u<_){var M=i.charCodeAt(u++);(M&64512)==56320?s.push(((w&1023)<<10)+(M&1023)+65536):(s.push(w),u--)}else s.push(w)}return s}var ee=function(s){return String.fromCodePoint.apply(String,h(s))},B=function(s){return s-48<10?s-22:s-65<26?s-65:s-97<26?s-97:t},X=function(s,u){return s+22+75*(s<26)-((u!=0)<<5)},J=function(s,u,_){var w=0;for(s=_?d(s/p):s>>1,s+=d(s/u);s>O*c>>1;w+=t)s=d(s/O);return d(w+(O+1)*s/(s+f))},G=function(s){var u=[],_=s.length,w=0,M=R,Z=F,te=s.lastIndexOf(g);te<0&&(te=0);for(var ne=0;ne<te;++ne)s.charCodeAt(ne)>=128&&I("not-basic"),u.push(s.charCodeAt(ne));for(var Pe=te>0?te+1:0;Pe<_;){for(var ae=w,pe=1,Ee=t;;Ee+=t){Pe>=_&&I("invalid-input");var ve=B(s.charCodeAt(Pe++));(ve>=t||ve>d((v-w)/pe))&&I("overflow"),w+=ve*pe;var oe=Ee<=Z?l:Ee>=Z+c?c:Ee-Z;if(ve<oe)break;var me=t-oe;pe>d(v/me)&&I("overflow"),pe*=me}var le=u.length+1;Z=J(w-ae,le,ae==0),d(w/le)>v-M&&I("overflow"),M+=d(w/le),w%=le,u.splice(w++,0,M)}return String.fromCodePoint.apply(String,u)},Se=function(s){var u=[];s=H(s);var _=s.length,w=R,M=0,Z=F,te=!0,ne=!1,Pe=void 0;try{for(var ae=s[Symbol.iterator](),pe;!(te=(pe=ae.next()).done);te=!0){var Ee=pe.value;Ee<128&&u.push(b(Ee))}}catch(Qe){ne=!0,Pe=Qe}finally{try{!te&&ae.return&&ae.return()}finally{if(ne)throw Pe}}var ve=u.length,oe=ve;for(ve&&u.push(g);oe<_;){var me=v,le=!0,ze=!1,De=void 0;try{for(var Fe=s[Symbol.iterator](),ie;!(le=(ie=Fe.next()).done);le=!0){var Oe=ie.value;Oe>=w&&Oe<me&&(me=Oe)}}catch(Qe){ze=!0,De=Qe}finally{try{!le&&Fe.return&&Fe.return()}finally{if(ze)throw De}}var Ie=oe+1;me-w>d((v-M)/Ie)&&I("overflow"),M+=(me-w)*Ie,w=me;var Ce=!0,Ve=!1,Te=void 0;try{for(var Xe=s[Symbol.iterator](),sr;!(Ce=(sr=Xe.next()).done);Ce=!0){var or=sr.value;if(or<w&&++M>v&&I("overflow"),or==w){for(var qe=M,Ke=t;;Ke+=t){var Le=Ke<=Z?l:Ke>=Z+c?c:Ke-Z;if(qe<Le)break;var Be=qe-Le,fr=t-Le;u.push(b(X(Le+Be%fr,0))),qe=d(Be/fr)}u.push(b(X(qe,0))),Z=J(M,Ie,oe==ve),M=0,++oe}}}catch(Qe){Ve=!0,Te=Qe}finally{try{!Ce&&Xe.return&&Xe.return()}finally{if(Ve)throw Te}}++M,++w}return u.join("")},_e=function(s){return Q(s,function(u){return y.test(u)?G(u.slice(4).toLowerCase()):u})},$e=function(s){return Q(s,function(u){return D.test(u)?"xn--"+Se(u):u})},fe={version:"2.1.0",ucs2:{decode:H,encode:ee},decode:G,encode:Se,toASCII:$e,toUnicode:_e},de={};function m(i){var s=i.charCodeAt(0),u=void 0;return s<16?u="%0"+s.toString(16).toUpperCase():s<128?u="%"+s.toString(16).toUpperCase():s<2048?u="%"+(s>>6|192).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase():u="%"+(s>>12|224).toString(16).toUpperCase()+"%"+(s>>6&63|128).toString(16).toUpperCase()+"%"+(s&63|128).toString(16).toUpperCase(),u}function C(i){for(var s="",u=0,_=i.length;u<_;){var w=parseInt(i.substr(u+1,2),16);if(w<128)s+=String.fromCharCode(w),u+=3;else if(w>=194&&w<224){if(_-u>=6){var M=parseInt(i.substr(u+4,2),16);s+=String.fromCharCode((w&31)<<6|M&63)}else s+=i.substr(u,6);u+=6}else if(w>=224){if(_-u>=9){var Z=parseInt(i.substr(u+4,2),16),te=parseInt(i.substr(u+7,2),16);s+=String.fromCharCode((w&15)<<12|(Z&63)<<6|te&63)}else s+=i.substr(u,9);u+=9}else s+=i.substr(u,3),u+=3}return s}function q(i,s){function u(_){var w=C(_);return w.match(s.UNRESERVED)?w:_}return i.scheme&&(i.scheme=String(i.scheme).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_SCHEME,"")),i.userinfo!==void 0&&(i.userinfo=String(i.userinfo).replace(s.PCT_ENCODED,u).replace(s.NOT_USERINFO,m).replace(s.PCT_ENCODED,r)),i.host!==void 0&&(i.host=String(i.host).replace(s.PCT_ENCODED,u).toLowerCase().replace(s.NOT_HOST,m).replace(s.PCT_ENCODED,r)),i.path!==void 0&&(i.path=String(i.path).replace(s.PCT_ENCODED,u).replace(i.scheme?s.NOT_PATH:s.NOT_PATH_NOSCHEME,m).replace(s.PCT_ENCODED,r)),i.query!==void 0&&(i.query=String(i.query).replace(s.PCT_ENCODED,u).replace(s.NOT_QUERY,m).replace(s.PCT_ENCODED,r)),i.fragment!==void 0&&(i.fragment=String(i.fragment).replace(s.PCT_ENCODED,u).replace(s.NOT_FRAGMENT,m).replace(s.PCT_ENCODED,r)),i}function Y(i){return i.replace(/^0*(.*)/,"$1")||"0"}function N(i,s){var u=i.match(s.IPV4ADDRESS)||[],_=$(u,2),w=_[1];return w?w.split(".").map(Y).join("."):i}function V(i,s){var u=i.match(s.IPV6ADDRESS)||[],_=$(u,3),w=_[1],M=_[2];if(w){for(var Z=w.toLowerCase().split("::").reverse(),te=$(Z,2),ne=te[0],Pe=te[1],ae=Pe?Pe.split(":").map(Y):[],pe=ne.split(":").map(Y),Ee=s.IPV4ADDRESS.test(pe[pe.length-1]),ve=Ee?7:8,oe=pe.length-ve,me=Array(ve),le=0;le<ve;++le)me[le]=ae[le]||pe[oe+le]||"";Ee&&(me[ve-1]=N(me[ve-1],s));var ze=me.reduce(function(Ie,Ce,Ve){if(!Ce||Ce==="0"){var Te=Ie[Ie.length-1];Te&&Te.index+Te.length===Ve?Te.length++:Ie.push({index:Ve,length:1})}return Ie},[]),De=ze.sort(function(Ie,Ce){return Ce.length-Ie.length})[0],Fe=void 0;if(De&&De.length>1){var ie=me.slice(0,De.index),Oe=me.slice(De.index+De.length);Fe=ie.join(":")+"::"+Oe.join(":")}else Fe=me.join(":");return M&&(Fe+="%"+M),Fe}else return i}var W=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,re="".match(/(){0}/)[1]===void 0;function k(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u={},_=s.iri!==!1?P:E;s.reference==="suffix"&&(i=(s.scheme?s.scheme+":":"")+"//"+i);var w=i.match(W);if(w){re?(u.scheme=w[1],u.userinfo=w[3],u.host=w[4],u.port=parseInt(w[5],10),u.path=w[6]||"",u.query=w[7],u.fragment=w[8],isNaN(u.port)&&(u.port=w[5])):(u.scheme=w[1]||void 0,u.userinfo=i.indexOf("@")!==-1?w[3]:void 0,u.host=i.indexOf("//")!==-1?w[4]:void 0,u.port=parseInt(w[5],10),u.path=w[6]||"",u.query=i.indexOf("?")!==-1?w[7]:void 0,u.fragment=i.indexOf("#")!==-1?w[8]:void 0,isNaN(u.port)&&(u.port=i.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?w[4]:void 0)),u.host&&(u.host=V(N(u.host,_),_)),u.scheme===void 0&&u.userinfo===void 0&&u.host===void 0&&u.port===void 0&&!u.path&&u.query===void 0?u.reference="same-document":u.scheme===void 0?u.reference="relative":u.fragment===void 0?u.reference="absolute":u.reference="uri",s.reference&&s.reference!=="suffix"&&s.reference!==u.reference&&(u.error=u.error||"URI is not a "+s.reference+" reference.");var M=de[(s.scheme||u.scheme||"").toLowerCase()];if(!s.unicodeSupport&&(!M||!M.unicodeSupport)){if(u.host&&(s.domainHost||M&&M.domainHost))try{u.host=fe.toASCII(u.host.replace(_.PCT_ENCODED,C).toLowerCase())}catch(Z){u.error=u.error||"Host's domain name can not be converted to ASCII via punycode: "+Z}q(u,E)}else q(u,_);M&&M.parse&&M.parse(u,s)}else u.error=u.error||"URI can not be parsed.";return u}function ue(i,s){var u=s.iri!==!1?P:E,_=[];return i.userinfo!==void 0&&(_.push(i.userinfo),_.push("@")),i.host!==void 0&&_.push(V(N(String(i.host),u),u).replace(u.IPV6ADDRESS,function(w,M,Z){return"["+M+(Z?"%25"+Z:"")+"]"})),(typeof i.port=="number"||typeof i.port=="string")&&(_.push(":"),_.push(String(i.port))),_.length?_.join(""):void 0}var he=/^\.\.?\//,se=/^\/\.(\/|$)/,be=/^\/\.\.(\/|$)/,ge=/^\/?(?:.|\n)*?(?=\/|$)/;function we(i){for(var s=[];i.length;)if(i.match(he))i=i.replace(he,"");else if(i.match(se))i=i.replace(se,"/");else if(i.match(be))i=i.replace(be,"/"),s.pop();else if(i==="."||i==="..")i="";else{var u=i.match(ge);if(u){var _=u[0];i=i.slice(_.length),s.push(_)}else throw new Error("Unexpected dot segment condition")}return s.join("")}function ce(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=s.iri?P:E,_=[],w=de[(s.scheme||i.scheme||"").toLowerCase()];if(w&&w.serialize&&w.serialize(i,s),i.host&&!u.IPV6ADDRESS.test(i.host)){if(s.domainHost||w&&w.domainHost)try{i.host=s.iri?fe.toUnicode(i.host):fe.toASCII(i.host.replace(u.PCT_ENCODED,C).toLowerCase())}catch(te){i.error=i.error||"Host's domain name can not be converted to "+(s.iri?"Unicode":"ASCII")+" via punycode: "+te}}q(i,u),s.reference!=="suffix"&&i.scheme&&(_.push(i.scheme),_.push(":"));var M=ue(i,s);if(M!==void 0&&(s.reference!=="suffix"&&_.push("//"),_.push(M),i.path&&i.path.charAt(0)!=="/"&&_.push("/")),i.path!==void 0){var Z=i.path;!s.absolutePath&&(!w||!w.absolutePath)&&(Z=we(Z)),M===void 0&&(Z=Z.replace(/^\/\//,"/%2F")),_.push(Z)}return i.query!==void 0&&(_.push("?"),_.push(i.query)),i.fragment!==void 0&&(_.push("#"),_.push(i.fragment)),_.join("")}function ye(i,s){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=arguments[3],w={};return _||(i=k(ce(i,u),u),s=k(ce(s,u),u)),u=u||{},!u.tolerant&&s.scheme?(w.scheme=s.scheme,w.userinfo=s.userinfo,w.host=s.host,w.port=s.port,w.path=we(s.path||""),w.query=s.query):(s.userinfo!==void 0||s.host!==void 0||s.port!==void 0?(w.userinfo=s.userinfo,w.host=s.host,w.port=s.port,w.path=we(s.path||""),w.query=s.query):(s.path?(s.path.charAt(0)==="/"?w.path=we(s.path):((i.userinfo!==void 0||i.host!==void 0||i.port!==void 0)&&!i.path?w.path="/"+s.path:i.path?w.path=i.path.slice(0,i.path.lastIndexOf("/")+1)+s.path:w.path=s.path,w.path=we(w.path)),w.query=s.query):(w.path=i.path,s.query!==void 0?w.query=s.query:w.query=i.query),w.userinfo=i.userinfo,w.host=i.host,w.port=i.port),w.scheme=i.scheme),w.fragment=s.fragment,w}function xe(i,s,u){var _=S({scheme:"null"},u);return ce(ye(k(i,_),k(s,_),_,!0),_)}function Re(i,s){return typeof i=="string"?i=ce(k(i,s),s):L(i)==="object"&&(i=k(ce(i,s),s)),i}function tr(i,s,u){return typeof i=="string"?i=ce(k(i,u),u):L(i)==="object"&&(i=ce(i,u)),typeof s=="string"?s=ce(k(s,u),u):L(s)==="object"&&(s=ce(s,u)),i===s}function lr(i,s){return i&&i.toString().replace(!s||!s.iri?E.ESCAPE:P.ESCAPE,m)}function Ae(i,s){return i&&i.toString().replace(!s||!s.iri?E.PCT_ENCODED:P.PCT_ENCODED,C)}var Ye={scheme:"http",domainHost:!0,parse:function(s,u){return s.host||(s.error=s.error||"HTTP URIs must have a host."),s},serialize:function(s,u){var _=String(s.scheme).toLowerCase()==="https";return(s.port===(_?443:80)||s.port==="")&&(s.port=void 0),s.path||(s.path="/"),s}},hr={scheme:"https",domainHost:Ye.domainHost,parse:Ye.parse,serialize:Ye.serialize};function cr(i){return typeof i.secure=="boolean"?i.secure:String(i.scheme).toLowerCase()==="wss"}var Ze={scheme:"ws",domainHost:!0,parse:function(s,u){var _=s;return _.secure=cr(_),_.resourceName=(_.path||"/")+(_.query?"?"+_.query:""),_.path=void 0,_.query=void 0,_},serialize:function(s,u){if((s.port===(cr(s)?443:80)||s.port==="")&&(s.port=void 0),typeof s.secure=="boolean"&&(s.scheme=s.secure?"wss":"ws",s.secure=void 0),s.resourceName){var _=s.resourceName.split("?"),w=$(_,2),M=w[0],Z=w[1];s.path=M&&M!=="/"?M:void 0,s.query=Z,s.resourceName=void 0}return s.fragment=void 0,s}},vr={scheme:"wss",domainHost:Ze.domainHost,parse:Ze.parse,serialize:Ze.serialize},br={},_r=!0,dr="[A-Za-z0-9\\-\\.\\_\\~"+(_r?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",je="[0-9A-Fa-f]",wr=a(a("%[EFef]"+je+"%"+je+je+"%"+je+je)+"|"+a("%[89A-Fa-f]"+je+"%"+je+je)+"|"+a("%"+je+je)),Rr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Dr="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Or=e(Dr,'[\\"\\\\]'),xr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Fr=new RegExp(dr,"g"),He=new RegExp(wr,"g"),Ir=new RegExp(e("[^]",Rr,"[\\.]",'[\\"]',Or),"g"),pr=new RegExp(e("[^]",dr,xr),"g"),Ar=pr;function ir(i){var s=C(i);return s.match(Fr)?s:i}var mr={scheme:"mailto",parse:function(s,u){var _=s,w=_.to=_.path?_.path.split(","):[];if(_.path=void 0,_.query){for(var M=!1,Z={},te=_.query.split("&"),ne=0,Pe=te.length;ne<Pe;++ne){var ae=te[ne].split("=");switch(ae[0]){case"to":for(var pe=ae[1].split(","),Ee=0,ve=pe.length;Ee<ve;++Ee)w.push(pe[Ee]);break;case"subject":_.subject=Ae(ae[1],u);break;case"body":_.body=Ae(ae[1],u);break;default:M=!0,Z[Ae(ae[0],u)]=Ae(ae[1],u);break}}M&&(_.headers=Z)}_.query=void 0;for(var oe=0,me=w.length;oe<me;++oe){var le=w[oe].split("@");if(le[0]=Ae(le[0]),u.unicodeSupport)le[1]=Ae(le[1],u).toLowerCase();else try{le[1]=fe.toASCII(Ae(le[1],u).toLowerCase())}catch(ze){_.error=_.error||"Email address's domain name can not be converted to ASCII via punycode: "+ze}w[oe]=le.join("@")}return _},serialize:function(s,u){var _=s,w=n(s.to);if(w){for(var M=0,Z=w.length;M<Z;++M){var te=String(w[M]),ne=te.lastIndexOf("@"),Pe=te.slice(0,ne).replace(He,ir).replace(He,r).replace(Ir,m),ae=te.slice(ne+1);try{ae=u.iri?fe.toUnicode(ae):fe.toASCII(Ae(ae,u).toLowerCase())}catch(oe){_.error=_.error||"Email address's domain name can not be converted to "+(u.iri?"Unicode":"ASCII")+" via punycode: "+oe}w[M]=Pe+"@"+ae}_.path=w.join(",")}var pe=s.headers=s.headers||{};s.subject&&(pe.subject=s.subject),s.body&&(pe.body=s.body);var Ee=[];for(var ve in pe)pe[ve]!==br[ve]&&Ee.push(ve.replace(He,ir).replace(He,r).replace(pr,m)+"="+pe[ve].replace(He,ir).replace(He,r).replace(Ar,m));return Ee.length&&(_.query=Ee.join("&")),_}},jr=/^([^\:]+)\:(.*)/,gr={scheme:"urn",parse:function(s,u){var _=s.path&&s.path.match(jr),w=s;if(_){var M=u.scheme||w.scheme||"urn",Z=_[1].toLowerCase(),te=_[2],ne=M+":"+(u.nid||Z),Pe=de[ne];w.nid=Z,w.nss=te,w.path=void 0,Pe&&(w=Pe.parse(w,u))}else w.error=w.error||"URN can not be parsed.";return w},serialize:function(s,u){var _=u.scheme||s.scheme||"urn",w=s.nid,M=_+":"+(u.nid||w),Z=de[M];Z&&(s=Z.serialize(s,u));var te=s,ne=s.nss;return te.path=(w||u.nid)+":"+ne,te}},Cr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Pr={scheme:"urn:uuid",parse:function(s,u){var _=s;return _.uuid=_.nss,_.nss=void 0,!u.tolerant&&(!_.uuid||!_.uuid.match(Cr))&&(_.error=_.error||"UUID is not valid."),_},serialize:function(s,u){var _=s;return _.nss=(s.uuid||"").toLowerCase(),_}};de[Ye.scheme]=Ye,de[hr.scheme]=hr,de[Ze.scheme]=Ze,de[vr.scheme]=vr,de[mr.scheme]=mr,de[gr.scheme]=gr,de[Pr.scheme]=Pr,T.SCHEMES=de,T.pctEncChar=m,T.pctDecChars=C,T.parse=k,T.removeDotSegments=we,T.serialize=ce,T.resolveComponents=ye,T.resolve=xe,T.normalize=Re,T.equal=tr,T.escapeComponent=lr,T.unescapeComponent=Ae,Object.defineProperty(T,"__esModule",{value:!0})})},{}],ajv:[function(A,U,K){"use strict";var T=A("./compile"),e=A("./compile/resolve"),a=A("./cache"),L=A("./compile/schema_obj"),r=A("fast-json-stable-stringify"),n=A("./compile/formats"),S=A("./compile/rules"),o=A("./data"),E=A("./compile/util");U.exports=l,l.prototype.validate=c,l.prototype.compile=f,l.prototype.addSchema=p,l.prototype.addMetaSchema=F,l.prototype.validateSchema=R,l.prototype.getSchema=y,l.prototype.removeSchema=j,l.prototype.addFormat=B,l.prototype.errorsText=ee,l.prototype._addSchema=d,l.prototype._compile=b,l.prototype.compileAsync=A("./compile/async");var P=A("./keyword");l.prototype.addKeyword=P.add,l.prototype.getKeyword=P.get,l.prototype.removeKeyword=P.remove,l.prototype.validateKeyword=P.validate;var $=A("./compile/error_classes");l.ValidationError=$.Validation,l.MissingRefError=$.MissingRef,l.$dataMetaSchema=o;var h="http://json-schema.org/draft-07/schema",v=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],t=["/properties"];function l(m){if(!(this instanceof l))return new l(m);m=this._opts=E.copy(m)||{},fe(this),this._schemas={},this._refs={},this._fragments={},this._formats=n(m.format),this._cache=m.cache||new a,this._loadingSchemas={},this._compilations=[],this.RULES=S(),this._getId=I(m),m.loopRequired=m.loopRequired||1/0,m.errorDataPath=="property"&&(m._errorDataPathProperty=!0),m.serialize===void 0&&(m.serialize=r),this._metaOpts=$e(this),m.formats&&G(this),m.keywords&&Se(this),X(this),typeof m.meta=="object"&&this.addMetaSchema(m.meta),m.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),J(this)}function c(m,C){var q;if(typeof m=="string"){if(q=this.getSchema(m),!q)throw new Error('no schema with key or ref "'+m+'"')}else{var Y=this._addSchema(m);q=Y.validate||this._compile(Y)}var N=q(C);return q.$async!==!0&&(this.errors=q.errors),N}function f(m,C){var q=this._addSchema(m,void 0,C);return q.validate||this._compile(q)}function p(m,C,q,Y){if(Array.isArray(m)){for(var N=0;N<m.length;N++)this.addSchema(m[N],void 0,q,Y);return this}var V=this._getId(m);if(V!==void 0&&typeof V!="string")throw new Error("schema id must be string");return C=e.normalizeId(C||V),_e(this,C),this._schemas[C]=this._addSchema(m,q,Y,!0),this}function F(m,C,q){return this.addSchema(m,C,q,!0),this}function R(m,C){var q=m.$schema;if(q!==void 0&&typeof q!="string")throw new Error("$schema must be a string");if(q=q||this._opts.defaultMeta||g(this),!q)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var Y=this.validate(q,m);if(!Y&&C){var N="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(N);else throw new Error(N)}return Y}function g(m){var C=m._opts.meta;return m._opts.defaultMeta=typeof C=="object"?m._getId(C)||C:m.getSchema(h)?h:void 0,m._opts.defaultMeta}function y(m){var C=x(this,m);switch(typeof C){case"object":return C.validate||this._compile(C);case"string":return this.getSchema(C);case"undefined":return D(this,m)}}function D(m,C){var q=e.schema.call(m,{schema:{}},C);if(q){var Y=q.schema,N=q.root,V=q.baseId,W=T.call(m,Y,N,void 0,V);return m._fragments[C]=new L({ref:C,fragment:!0,schema:Y,root:N,baseId:V,validate:W}),W}}function x(m,C){return C=e.normalizeId(C),m._schemas[C]||m._refs[C]||m._fragments[C]}function j(m){if(m instanceof RegExp)return O(this,this._schemas,m),O(this,this._refs,m),this;switch(typeof m){case"undefined":return O(this,this._schemas),O(this,this._refs),this._cache.clear(),this;case"string":var C=x(this,m);return C&&this._cache.del(C.cacheKey),delete this._schemas[m],delete this._refs[m],this;case"object":var q=this._opts.serialize,Y=q?q(m):m;this._cache.del(Y);var N=this._getId(m);N&&(N=e.normalizeId(N),delete this._schemas[N],delete this._refs[N])}return this}function O(m,C,q){for(var Y in C){var N=C[Y];!N.meta&&(!q||q.test(Y))&&(m._cache.del(N.cacheKey),delete C[Y])}}function d(m,C,q,Y){if(typeof m!="object"&&typeof m!="boolean")throw new Error("schema should be object or boolean");var N=this._opts.serialize,V=N?N(m):m,W=this._cache.get(V);if(W)return W;Y=Y||this._opts.addUsedSchema!==!1;var re=e.normalizeId(this._getId(m));re&&Y&&_e(this,re);var k=this._opts.validateSchema!==!1&&!C,ue;k&&!(ue=re&&re==e.normalizeId(m.$schema))&&this.validateSchema(m,!0);var he=e.ids.call(this,m),se=new L({id:re,schema:m,localRefs:he,cacheKey:V,meta:q});return re[0]!="#"&&Y&&(this._refs[re]=se),this._cache.put(V,se),k&&ue&&this.validateSchema(m,!0),se}function b(m,C){if(m.compiling)return m.validate=N,N.schema=m.schema,N.errors=null,N.root=C||N,m.schema.$async===!0&&(N.$async=!0),N;m.compiling=!0;var q;m.meta&&(q=this._opts,this._opts=this._metaOpts);var Y;try{Y=T.call(this,m.schema,C,m.localRefs)}catch(V){throw delete m.validate,V}finally{m.compiling=!1,m.meta&&(this._opts=q)}return m.validate=Y,m.refs=Y.refs,m.refVal=Y.refVal,m.root=Y.root,Y;function N(){var V=m.validate,W=V.apply(this,arguments);return N.errors=V.errors,W}}function I(m){switch(m.schemaId){case"auto":return H;case"id":return z;default:return Q}}function z(m){return m.$id&&this.logger.warn("schema $id ignored",m.$id),m.id}function Q(m){return m.id&&this.logger.warn("schema id ignored",m.id),m.$id}function H(m){if(m.$id&&m.id&&m.$id!=m.id)throw new Error("schema $id is different from id");return m.$id||m.id}function ee(m,C){if(m=m||this.errors,!m)return"No errors";C=C||{};for(var q=C.separator===void 0?", ":C.separator,Y=C.dataVar===void 0?"data":C.dataVar,N="",V=0;V<m.length;V++){var W=m[V];W&&(N+=Y+W.dataPath+" "+W.message+q)}return N.slice(0,-q.length)}function B(m,C){return typeof C=="string"&&(C=new RegExp(C)),this._formats[m]=C,this}function X(m){var C;if(m._opts.$data&&(C=A("./refs/data.json"),m.addMetaSchema(C,C.$id,!0)),m._opts.meta!==!1){var q=A("./refs/json-schema-draft-07.json");m._opts.$data&&(q=o(q,t)),m.addMetaSchema(q,h,!0),m._refs["http://json-schema.org/schema"]=h}}function J(m){var C=m._opts.schemas;if(C)if(Array.isArray(C))m.addSchema(C);else for(var q in C)m.addSchema(C[q],q)}function G(m){for(var C in m._opts.formats){var q=m._opts.formats[C];m.addFormat(C,q)}}function Se(m){for(var C in m._opts.keywords){var q=m._opts.keywords[C];m.addKeyword(C,q)}}function _e(m,C){if(m._schemas[C]||m._refs[C])throw new Error('schema with key or id "'+C+'" already exists')}function $e(m){for(var C=E.copy(m._opts),q=0;q<v.length;q++)delete C[v[q]];return C}function fe(m){var C=m._opts.logger;if(C===!1)m.logger={log:de,warn:de,error:de};else{if(C===void 0&&(C=console),!(typeof C=="object"&&C.log&&C.warn&&C.error))throw new Error("logger must implement log, warn and error methods");m.logger=C}}function de(){}},{"./cache":1,"./compile":5,"./compile/async":2,"./compile/error_classes":3,"./compile/formats":4,"./compile/resolve":6,"./compile/rules":7,"./compile/schema_obj":8,"./compile/util":10,"./data":11,"./keyword":39,"./refs/data.json":40,"./refs/json-schema-draft-07.json":41,"fast-json-stable-stringify":43}]},{},[])("ajv")});
//# sourceMappingURL=ajv.min.js.map
