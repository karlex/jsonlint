{"version":3,"file":"formatter.js","names":["global","factory","exports","module","define","amd","self","jsonlintFormatter","this","repeat","s","count","Array","join","format","json","indent","i","length","indentString","undefined","outputString","indentLevel","inString","currentChar","charAt","Object","defineProperty","value"],"sources":["lib/formatter.js"],"sourcesContent":["(function (global, factory) {\n  // eslint-disable-next-line no-unused-expressions, multiline-ternary\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports)\n  // eslint-disable-next-line no-undef, multiline-ternary\n    : typeof define === 'function' && define.amd ? define('jsonlint-formatter', ['exports'], factory)\n    // eslint-disable-next-line no-undef\n      : (global = global || self, factory(global.jsonlintFormatter = {}))\n}(this, function (exports) {\n  'use strict'\n\n  /**\n   * Manual formatter taken straight from https://github.com/umbrae/jsonlintdotcom\n   *\n   * jsl.format - Provide json reformatting in a character-by-character approach,\n   *   so that even invalid JSON may be reformatted (to the best of its ability).\n   *\n   */\n\n  function repeat (s, count) {\n    return new Array(count + 1).join(s)\n  }\n\n  function format (json, indent) {\n    let i = 0\n    let length = 0\n    const indentString = indent !== undefined\n      ? typeof indent === 'number'\n        ? new Array(indent + 1).join(' ')\n        : indent\n      : '  '\n    let outputString = ''\n    let indentLevel = 0\n    let inString\n    let currentChar\n\n    for (i = 0, length = json.length; i < length; i += 1) {\n      currentChar = json.charAt(i)\n      switch (currentChar) {\n        case '{':\n        case '[':\n          if (!inString) {\n            outputString += currentChar + '\\n' + repeat(indentString, indentLevel + 1)\n            indentLevel += 1\n          } else {\n            outputString += currentChar\n          }\n          break\n        case '}':\n        case ']':\n          if (!inString) {\n            indentLevel -= 1\n            outputString += '\\n' + repeat(indentString, indentLevel) + currentChar\n          } else {\n            outputString += currentChar\n          }\n          break\n        case ',':\n          if (!inString) {\n            outputString += ',\\n' + repeat(indentString, indentLevel)\n          } else {\n            outputString += currentChar\n          }\n          break\n        case ':':\n          if (!inString) {\n            outputString += ': '\n          } else {\n            outputString += currentChar\n          }\n          break\n        case ' ':\n        case '\\n':\n        case '\\t':\n          if (inString) {\n            outputString += currentChar\n          }\n          break\n        case '\"':\n          if (i > 0 && json.charAt(i - 1) !== '\\\\') {\n            inString = !inString\n          }\n          outputString += currentChar\n          break\n        default:\n          outputString += currentChar\n          break\n      }\n    }\n\n    return outputString\n  }\n\n  exports.format = format\n\n  Object.defineProperty(exports, '__esModule', { value: true })\n}))\n"],"mappings":"CAAC,SAAUA,OAAQC,gBAEVC,UAAY,iBAAmBC,SAAW,YAAcF,QAAQC,gBAE5DE,SAAW,YAAcA,OAAOC,IAAMD,OAAO,qBAAsB,CAAC,WAAYH,UAEpFD,OAASA,QAAUM,KAAML,QAAQD,OAAOO,kBAAoB,CAAC,GACtE,EAPA,CAOEC,MAAM,SAAUN,SAChB,aAUA,SAASO,OAAQC,EAAGC,OAClB,OAAO,IAAIC,MAAMD,MAAQ,GAAGE,KAAKH,EACnC,CAEA,SAASI,OAAQC,KAAMC,QACrB,IAAIC,EAAI,EACR,IAAIC,OAAS,EACb,MAAMC,aAAeH,SAAWI,iBACrBJ,SAAW,SAChB,IAAIJ,MAAMI,OAAS,GAAGH,KAAK,KAC3BG,OACF,KACJ,IAAIK,aAAe,GACnB,IAAIC,YAAc,EAClB,IAAIC,SACJ,IAAIC,YAEJ,IAAKP,EAAI,EAAGC,OAASH,KAAKG,OAAQD,EAAIC,OAAQD,GAAK,EAAG,CACpDO,YAAcT,KAAKU,OAAOR,GAC1B,OAAQO,aACN,IAAK,IACL,IAAK,IACH,IAAKD,SAAU,CACbF,cAAgBG,YAAc,KAAOf,OAAOU,aAAcG,YAAc,GACxEA,aAAe,CACjB,KAAO,CACLD,cAAgBG,WAClB,CACA,MACF,IAAK,IACL,IAAK,IACH,IAAKD,SAAU,CACbD,aAAe,EACfD,cAAgB,KAAOZ,OAAOU,aAAcG,aAAeE,WAC7D,KAAO,CACLH,cAAgBG,WAClB,CACA,MACF,IAAK,IACH,IAAKD,SAAU,CACbF,cAAgB,MAAQZ,OAAOU,aAAcG,YAC/C,KAAO,CACLD,cAAgBG,WAClB,CACA,MACF,IAAK,IACH,IAAKD,SAAU,CACbF,cAAgB,IAClB,KAAO,CACLA,cAAgBG,WAClB,CACA,MACF,IAAK,IACL,IAAK,KACL,IAAK,KACH,GAAID,SAAU,CACZF,cAAgBG,WAClB,CACA,MACF,IAAK,IACH,GAAIP,EAAI,GAAKF,KAAKU,OAAOR,EAAI,KAAO,KAAM,CACxCM,UAAYA,QACd,CACAF,cAAgBG,YAChB,MACF,QACEH,cAAgBG,YAChB,MAEN,CAEA,OAAOH,YACT,CAEAnB,QAAQY,OAASA,OAEjBY,OAAOC,eAAezB,QAAS,aAAc,CAAE0B,MAAO,MACxD"}